/**
 * ูุธุงู ุฅุฏุงุฑุฉ ุงูุญููุฉ ุงูุงุชุตุงููุฉ ุงููุชูุงูู
 * Campaign Management System v1.0
 * 
 * ูุดูู: ุงูููุงูุ ุงูุงุนุชูุงุฏุงุชุ ุงููุฑุงุณูุงุชุ ุงูุชูุงุฑูุฑ
 * ูุน ูุณุงุนุฏ AI ุฐูู ููุฏุฑููุจ ุนูู ุจูุงูุงุช ุงููุดุฑูุน
 */

// ==========================================
// ุงูุชููุฆุฉ ูุงููุชุบูุฑุงุช ุงูุนุงูุฉ
// ==========================================

const CampaignManager = {
    currentProjectId: null,
    currentUser: null,
    currentSubTab: 'dashboard',
    tasks: [],
    approvals: [],
    messages: [],
    
    // Firebase References
    db: null,
    
    // ==========================================
    // ุจูุงูุงุช ูุดุฑูุน ALIC - ููุณุงุนุฏ AI
    // ==========================================
    projectKnowledge: {
        // ูุนูููุงุช ุงููุดุฑูุน ุงูุฃุณุงุณูุฉ
        basicInfo: {
            name: 'ูุฏููุฉ ุฃููู ุงูููุฌุณุชูุฉ ูุงูุตูุงุนูุฉ - ุงููููุฑ',
            nameEn: 'ALIC Logistic & Industrial City - Al Muwaqqar',
            type: 'ุตูุงุนู ูููุฌุณุชู',
            location: 'ุงููููุฑุ ุนููุงูุ ุงูุฃุฑุฏู',
            address: 'ููุทูุฉ ุงููููุฑ - ุนูู ุจุนุฏ 15 ูู ูู ูุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏููู',
            totalArea: '525,000 ูยฒ',
            leasableArea: '350,000 ูยฒ',
            startDate: '2025-01-01',
            expectedCompletion: '2027-12-31',
            totalInvestment: '150 ููููู ุฏููุงุฑ'
        },
        
        // ุงูุฑุคูุฉ ูุงูุฑุณุงูุฉ
        vision: 'ุฃู ุชููู ุงููุฏููุฉ ุงูููุฌุณุชูุฉ ุงูุฑุงุฆุฏุฉ ูู ุงูููุทูุฉ ููุฑูุฒุงู ุฅูููููุงู ููุชุฌุงุฑุฉ ูุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ',
        mission: 'ุชูููุฑ ุจููุฉ ุชุญุชูุฉ ุนุงูููุฉ ุงููุณุชูู ุชุฏุนู ููู ุงูุฃุนูุงู ูุชุนุฒุฒ ุงูููุงุกุฉ ุงูุชุดุบูููุฉ',
        
        // ุงููุทุงุนุงุช ุงููุณุชูุฏูุฉ
        targetSectors: [
            'ุดุฑูุงุช ุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ (3PL)',
            'ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูุงูุชูุฒูุน',
            'ุงูุตูุงุนุงุช ุงูุฎูููุฉ ูุงูุชุฌููุน',
            'ุงูุชุฎุฒูู ุงูุจุงุฑุฏ ูุงููุจุฑุฏ',
            'ุฎุฏูุงุช ุงูุดุญู ูุงูุชูุฑูุบ'
        ],
        
        // ุงููููุฒุงุช ุงูุชูุงูุณูุฉ
        competitiveAdvantages: [
            'ูููุน ุงุณุชุฑุงุชูุฌู ูุฑุจ ูุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏููู (15 ูู ููุท)',
            'ุจููุฉ ุชุญุชูุฉ ูุชูุงููุฉ ูุญุฏูุซุฉ',
            'ูุฑููุฉ ูู ูุณุงุญุงุช ุงูุชุฃุฌูุฑ (500 - 50,000 ูยฒ)',
            'ุฎุฏูุงุช ุฌูุฑููุฉ ูููุฌุณุชูุฉ ูู ุงููููุน',
            'ุฃุณุนุงุฑ ุชูุงูุณูุฉ: 5-15 ุฏููุงุฑ/ูยฒ ุดูุฑูุงู',
            'ุดุจูุฉ ุทุฑู ุฏุงุฎููุฉ ุชุฑุจุท ุงููุฏููุฉ ุจุงููุทุงุฑ ุงูุฏููู'
        ],
        
        // ูุฑุงุญู ุงููุดุฑูุน
        phases: [
            { name: 'ุงูุฃุนูุงู ุงูุชูููุฏูุฉ', status: 'ููุฏ ุงูุชูููุฐ', progress: 20, dates: 'ููุงูุฑ - ููููู 2025' },
            { name: 'ุงูุจููุฉ ุงูุชุญุชูุฉ', status: 'ูุฎุทุท', progress: 0, dates: 'ููููู 2025 - ููููู 2026' },
            { name: 'ุงููุจุงูู ุงูููุฌุณุชูุฉ', status: 'ูุฎุทุท', progress: 0, dates: 'ููููู 2026 - ููููู 2027' },
            { name: 'ุงูุชุดุบูู', status: 'ูุฎุทุท', progress: 0, dates: 'ููููู - ุฏูุณูุจุฑ 2027' }
        ],
        
        // ุงููุฑุงูู ูุงูุฎุฏูุงุช
        facilities: [
            'ููุงุทู ุชุฎุฒูู ูุจุฑุฏุฉ ูุฌุงูุฉ ููู ูุนุงููุฑ ุนุงูููุฉ',
            'ูุฑูุฒ ุชูุธููู ููุฌูุงุช ุงูุฌูุฑููุฉ ูุงูููุฌุณุชูุฉ',
            'ูุญุทุฉ ูููุฏ ููุฑูุฒ ุตูุงูุฉ ููุดุงุญูุงุช',
            'ูุจุงูู ุฅุฏุงุฑูุฉ ููุฑุงูู ุฎุฏููุฉ',
            'ูุธุงู ุฃููู ูุชูุงูู 24/7',
            'ุดุจูุฉ ุฃููุงู ุถูุฆูุฉ ุนุงููุฉ ุงูุณุฑุนุฉ',
            'ูุณุฌุฏ ููุตูู ูุนูุงุฏุฉ ุทุจูุฉ',
            'ูุทุงุนู ููุงููุชุฑูุงุช ููุนุงูููู'
        ],
        
        // ุงูุฌูููุฑ ุงููุณุชูุฏู (ูู ุงูุงุณุชุจูุงู)
        targetAudience: {
            primary: [
                'ูุฏูุฑู ุงูุนูููุงุช ูู ุดุฑูุงุช ุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ',
                'ูุฏูุฑู ุณูุงุณู ุงูุฅูุฏุงุฏ',
                'ุฃุตุญุงุจ ุดุฑูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ',
                'ูุฏูุฑู ุงููุดุชุฑูุงุช ูู ุงูุดุฑูุงุช ุงููุจุฑู',
                'ุงููุณุชุซูุฑูู ูู ุงููุทุงุน ุงูููุฌุณุชู'
            ],
            challenges: [
                'ุงุฑุชูุงุน ุชูุงููู ุงูุชุฎุฒูู ูู ุงูููุงูุน ุงูุญุงููุฉ',
                'ุตุนูุจุฉ ุงููุตูู ุงูุณุฑูุน ููุฃุณูุงู ุงูุฅูููููุฉ',
                'ููุต ุงููุณุงุญุงุช ุงูููุงุณุจุฉ ุจููุงุตูุงุช ุนุงูููุฉ',
                'ุบูุงุจ ุงูุฎุฏูุงุช ุงููุชูุงููุฉ ูู ูููุน ูุงุญุฏ'
            ]
        },
        
        // ุงูููุงูุณูู (ูู ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ)
        competitors: {
            local: 'ูุฏููุฉ ุงูุญุณู ุงูุตูุงุนูุฉุ ุงูููุงุทู ุงูุญุฑุฉ ุงูุฃุฑุฏููุฉ',
            regional: 'ุฌุจู ุนูู (ุฏุจู)ุ ูุฏููุฉ ุฎูููุฉ ุงูุตูุงุนูุฉ (ุฃุจูุธุจู)ุ King Abdullah Economic City (ุงูุณุนูุฏูุฉ)',
            global: 'Prologis (ุนุงููู)ุ Singapore Logistics Hub'
        },
        
        // ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงู ุงูููุชุฑุญุฉ
        communicationStrategy: {
            mainMessage: 'ุจูุงุจุชู ุงูููุฌุณุชูุฉ ููุฃุณูุงู ุงูุฅูููููุฉ ูู ููุจ ุงูุฃุฑุฏู',
            keyMessages: [
                'ูููุน ุงุณุชุฑุงุชูุฌู ูุฑุจุท 3 ูุงุฑุงุช',
                'ุฃูุฑุจ ูุฏููุฉ ููุฌุณุชูุฉ ููุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏููู',
                'ุจููุฉ ุชุญุชูุฉ ุจูุนุงููุฑ ุนุงูููุฉ ุจุชูููุฉ ุชูุงูุณูุฉ',
                'ุญููู ูุชูุงููุฉ ูู ุงูุชุฎุฒูู ููุชูุฒูุน'
            ],
            channels: [
                { name: 'LinkedIn', priority: 'ุฃุณุงุณู', reason: 'ูููุตูู ูุตูุงุน ุงููุฑุงุฑ B2B' },
                { name: 'ุงููุนุงุฑุถ ุงููุชุฎุตุตุฉ', priority: 'ุฃุณุงุณู', reason: 'ูุซู ูุนุฑุถ Logistics Middle East' },
                { name: 'ุงูุตุญู ุงูุงูุชุตุงุฏูุฉ', priority: 'ุฏุงุนู', reason: 'ูููุตุฏุงููุฉ ูุงูุชุบุทูุฉ ุงูุฅุนูุงููุฉ' },
                { name: 'ุงูุจุฑูุฏ ุงููุจุงุดุฑ', priority: 'ุฃุณุงุณู', reason: 'ููุชูุงุตู ูุน ููุงุฆู ุงูุดุฑูุงุช ุงููุณุชูุฏูุฉ' },
                { name: 'ุงููููุน ุงูุฅููุชุฑููู', priority: 'ุฃุณุงุณู', reason: 'ููุฑุฌุน ุฑุฆูุณู ูููุนูููุงุช' }
            ]
        },
        
        // ุฎุทุฉ ุงููุญุชูู ุงูููุชุฑุญุฉ
        contentPlan: {
            types: [
                { type: 'ููุฏูู ุชุนุฑููู', description: 'ุฌููุฉ ุงูุชุฑุงุถูุฉ ูู ุงููุดุฑูุน ูุงููููุน', frequency: 'ุฑุจุน ุณููู' },
                { type: 'ุฅูููุฌุฑุงููู', description: 'ููุงุฑูุงุช ุงููููุน ูุงูุฃุณุนุงุฑ ูุงูุฎุฏูุงุช', frequency: 'ุดูุฑู' },
                { type: 'ุฏุฑุงุณุงุช ุญุงูุฉ', description: 'ูุตุต ูุฌุงุญ ุงูุนููุงุก ุงูุฃูุงุฆู', frequency: 'ููุฑ ุงูุชูููุน' },
                { type: 'ููุงูุงุช ููุงุฏุฉ ููุฑูุฉ', description: 'ุงุชุฌุงูุงุช ุงููุทุงุน ุงูููุฌุณุชู', frequency: 'ุฃุณุจูุนู' },
                { type: 'ุจูุงูุงุช ุตุญููุฉ', description: 'ุฅุนูุงูุงุช ุงููุฑุงุญู ูุงูุดุฑุงูุงุช', frequency: 'ุญุณุจ ุงูุฃุญุฏุงุซ' }
            ]
        },
        
        // ูุนูููุงุช ุงูุชูุงุตู
        contact: {
            phone: '+962 (06) 5546161',
            email: 'info@noblesproperties.com',
            salesEmail: 'alic@noblesproperties.com',
            company: 'ููุจูุฒ ุงูุนูุงุฑูุฉ (Nobles Properties)'
        },
        
        // ==========================================
        // ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ ุงููุงููุฉ
        // ==========================================
        communicationPlan: {
            // ุงูุฃูุฏุงู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงููุฉ (ูู ุชุงุจ ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ)
            strategicObjectives: [
                {
                    number: 1,
                    title: 'ุจูุงุก ุงููุนู ุจููููู ุงููุฏู ุงูููุฌุณุชูุฉ ุงูููุฏุงุฑุฉ',
                    description: 'ุชุซููู ุงูุณูู ุงูุฃุฑุฏูู ูุงูุฅููููู ุจููููู "ุงููุฏููุฉ ุงูููุฌุณุชูุฉ ุงูููุฏุงุฑุฉ" ููููุฐุฌ ุฌุฏูุฏ ูุฎุชูู ุนู ุงูููุงุทู ุงูุตูุงุนูุฉ ุงูุชูููุฏูุฉ',
                    kpi: 'ูุณุจุฉ ุงูุชุนุฑู ุนูู ุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ ูู ุงููุทุงุน ุงูููุฌุณุชู'
                },
                {
                    number: 2,
                    title: 'ุชุนุฒูุฒ ููุงูุฉ ุฃููู ูุดุฑูู ุงุณุชุฑุงุชูุฌู',
                    description: 'ุชุฑุณูุฎ ุตูุฑุฉ ุฃููู ูู"ุดุฑูู ููู" ูููุณ ูุฌุฑุฏ ูุคุฌุฑ ูุณุงุญุงุชุ ูุน ุฅุจุฑุงุฒ ุงููููุฉ ุงููุถุงูุฉ ูุงูุฎุฏูุงุช ุงููุชูุงููุฉ',
                    kpi: 'ุฌูุฏุฉ ุงูุชุบุทูุฉ ุงูุฅุนูุงููุฉ ููุจุฑุฉ ุงูุฑุณุงุฆู ุงูุตุญููุฉ'
                },
                {
                    number: 3,
                    title: 'ุฑุจุท ุฃููู ุจุฑุคูุฉ ุงูุชุญุฏูุซ ุงูุงูุชุตุงุฏู',
                    description: 'ุชููุถุน ุฃููู ููููููู ูุทูู ูุฃูุฏุงู ุฑุคูุฉ ุงูุชุญุฏูุซ ุงูุงูุชุตุงุฏู ุงูุฃุฑุฏููุฉ ูุฌุฐุจ ุงูุงุณุชุซูุงุฑุงุช ุงูุฃุฌูุจูุฉ',
                    kpi: 'ุนุฏุฏ ุงูุฅุดุงุฑุงุช ูู ุฎุทุงุจุงุช ูููุดูุฑุงุช ุงูุฌูุงุช ุงูุฑุณููุฉ'
                }
            ],
            
            // ุงูุฃูุฏุงู ุงูุชุดุบูููุฉ
            operationalObjectives: {
                primary: 'ุจูุงุก ุงููุนู ุจูุดุฑูุน ALIC ููุฏููุฉ ููุฌุณุชูุฉ ูุชูุงููุฉ ูุจู ุงูุฅุทูุงู Q1 2026',
                targets: [
                    'ุฌุฐุจ 50+ ุงุณุชูุณุงุฑ ุฌุงุฏ ูู ุดุฑูุงุช ููุฌุณุชูุฉ ุฎูุงู 6 ุฃุดูุฑ',
                    'ุชุญููู ุชุบุทูุฉ ุฅุนูุงููุฉ ูู 10+ ูุณุงุฆู ุฅุนูุงู ุงูุชุตุงุฏูุฉ',
                    'ุจูุงุก ูุงุนุฏุฉ ูุชุงุจุนูู 5000+ ุนูู LinkedIn'
                ],
                kpis: [
                    'ุนุฏุฏ ุงูุงุณุชูุณุงุฑุงุช ุงููุงุฑุฏุฉ',
                    'ูุณุจุฉ ุงูุชุบุทูุฉ ุงูุฅุนูุงููุฉ',
                    'ุนุฏุฏ ุฒูุงุฑุงุช ุงููููุน',
                    'ุนุฏุฏ ุงูุนููุฏ ุงููููุนุฉ',
                    'ูุนุฏู ุงูุชุญููู ูู ุงุณุชูุณุงุฑ ูุฒูุงุฑุฉ'
                ]
            },
            
            // ุชุญููู SWOT ุงูุงุชุตุงูู
            swot: {
                strengths: [
                    'ูููุน ุงุณุชุฑุงุชูุฌู: 15 ุฏูููุฉ ูู ุงููุทุงุฑุ 20 ูู ุงูุญุฏูุฏ',
                    '3 ุดุฑุงูุงุช ูููุนุฉ: ูุญุงูุต ุงูุดุนุจุ ูุจูุงูุ ูุตูุน ุชุฌููู',
                    'ุจููุฉ ุฌุงูุฒุฉ: ููุฑุจุงุกุ ููุงูุ ุทุฑู ูุนุจุฏุฉ',
                    'ูุทูุฑ ูุชูุงูู: ุจูุงุก + ุชูููู + ุฅุฏุงุฑุฉ',
                    'ูุธุงู ุชูุณูุท: ููุฒุฉ ูุฑูุฏุฉ ูู ุงูุณูู'
                ],
                weaknesses: [
                    'ALIC ุนูุงูุฉ ุฌุฏูุฏุฉ ุบูุฑ ูุนุฑููุฉ ุจุนุฏ ูู ุงูุณูู',
                    'ูุฑุญูุฉ ูุง ูุจู ุงูุฅุทูุงู: ูุง ููุฌุฏ ูุญุชูู ูุฑุฆู ูููุดุฑูุน ุญุงููุงู',
                    'ููุงูุณุฉ ูุน ูุฏู ุตูุงุนูุฉ ุฑุงุณุฎุฉ ุฐุงุช ุณูุนุฉ ุทูููุฉ',
                    'ุชุญุฏู ุฅูุตุงู ุงููููุฉ ุงููุฑูุฏุฉ ูู ALIC'
                ],
                opportunities: [
                    'ููุต ุงููุณุงุญุงุช ุงูุฌุงูุฒุฉ: ูุฌูุฉ ูู ุงูุณูู',
                    'ููู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ: ุฒูุงุฏุฉ ุงูุทูุจ ุนูู ุงูุชุฎุฒูู',
                    'ุงูุชูุณุน ููุณุนูุฏูุฉ: ูุจูุงู ูููุฐุฌ ููุชุตุฏูุฑ',
                    'ุฑุคูุฉ ุงูุชุญุฏูุซ ุงูุงูุชุตุงุฏู: ุฏุนู ุญูููู ูููุทุงุน',
                    'LinkedIn: ุฌูููุฑ B2B ุฌุงูุฒ'
                ],
                threats: [
                    'ููุงูุณ ูุญูู: ูุฏููุฉ ุงูุญุณู ุงูุตูุงุนูุฉ',
                    'ููุงูุณุฉ ุฅูููููุฉ: KAEC + Jebel Ali',
                    'ุญุณุงุณูุฉ ุงูุฃุณุนุงุฑ: ูุฌุจ ููุงููุฉ ุงูุฅุฏุงุฑุฉ ูุจู ุงููุดุฑ',
                    'ูุญุงุฐูุฑ ุงุชุตุงููุฉ: ุชุฌูุจ ููุงุฑูุฉ ุงููุฏู ุงูุญููููุฉ ูุจุงุดุฑุฉ'
                ]
            },
            
            // ุฃูุฏุงู ุงูุชุบุทูุฉ ุงูุฌุบุฑุงููุฉ
            coverageTargets: {
                local: { name: 'ุงูุฃุฑุฏู', percentage: 85 },
                regional: { name: 'ุงูุฎููุฌ ูุงูุดุฑู ุงูุฃูุณุท', percentage: 10 },
                global: { name: 'ุฃูุฑูุจุง ูุขุณูุง', percentage: 5 }
            },
            
            // ุงูุชูููุช ูุงูุฌุฏูู ุงูุฒููู
            timeline: {
                launchDate: 'Q1 2026',
                preLaunchPhase: '6 ุฃุดูุฑ ูุจู ุงูุฅุทูุงู',
                phases: [
                    { name: 'ูุฑุญูุฉ ุงูุชุฃุณูุณ', duration: 'ุงูุดูุฑ 1-2', activities: 'ุจูุงุก ุงููููุฉ + ุฅุนุฏุงุฏ ุงููุญุชูู ุงูุฃุณุงุณู' },
                    { name: 'ูุฑุญูุฉ ุงูุชุดููู', duration: 'ุงูุดูุฑ 3-4', activities: 'ุญููุงุช ุชุดููููุฉ + PR + ุจูุงุก ุงูููุงุฆู' },
                    { name: 'ูุฑุญูุฉ ุงูุฅุทูุงู', duration: 'ุงูุดูุฑ 5-6', activities: 'ุฅุทูุงู ุฑุณูู + ูุนุงููุงุช + ุชุบุทูุฉ ุฅุนูุงููุฉ ููุซูุฉ' }
                ]
            },
            
            // ุงูุฑุณุงุฆู ุญุณุจ ุงูุดุฑูุญุฉ
            messagesBySegment: {
                logistics3PL: {
                    segment: 'ุดุฑูุงุช ุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ (3PL)',
                    mainMessage: 'ูููุฑ 30% ูู ููุช ุงูุชูุตูู - ุฃูุฑุจ ูููุน ููุฌุณุชู ูููุทุงุฑ',
                    proofPoints: ['15 ุฏูููุฉ ูู ุงููุทุงุฑ', 'ูุณุชูุฏุนุงุช ุฌุงูุฒุฉ ููุชุดุบูู ุงูููุฑู', 'ุฎุฏูุงุช ุฌูุฑููุฉ ูู ุงููููุน']
                },
                ecommerce: {
                    segment: 'ุดุฑูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ',
                    mainMessage: 'ุงูุทูู ููุณูู ุงูุณุนูุฏู ูู ุฃููู - ุจูุงุจุชู ููุชูุณุน ุงูุฅููููู',
                    proofPoints: ['20 ุฏูููุฉ ูู ุงูุญุฏูุฏ ุงูุณุนูุฏูุฉ', 'ูุตุฉ ูุฌุงุญ ูุจูุงู', 'ุญููู ุชุฎุฒูู ูุฑูุฉ']
                },
                manufacturers: {
                    segment: 'ุงูุตูุงุนุงุช ุงูุฎูููุฉ',
                    mainMessage: 'ุงุจุฏุฃ ุงูุฅูุชุงุฌ ููุฑุงู - ูู ุดูุก ุฌุงูุฒ',
                    proofPoints: ['ุจููุฉ ุชุญุชูุฉ ูุชูุงููุฉ', 'ูุธุงู ุชูุณูุท ูุฑู', 'ุฎุฏูุงุช ุฅุฏุงุฑูุฉ ูุชูุงููุฉ']
                }
            },
            
            // ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉ (Red Lines)
            redLines: [
                'ุนุฏู ุฐูุฑ ุฃุณุนุงุฑ ูุญุฏุฏุฉ ุฏูู ููุงููุฉ ุงูุฅุฏุงุฑุฉ',
                'ุชุฌูุจ ุงูููุงุฑูุฉ ุงููุจุงุดุฑุฉ ูุน ุงููุฏู ุงูุตูุงุนูุฉ ุงูุญููููุฉ',
                'ุนุฏู ุงูุฅุนูุงู ุนู ุดุฑุงูุงุช ูุจู ุงูุชูููุน ุงูุฑุณูู',
                'ุชุฌูุจ ุงููุจุงูุบุฉ ูู ุงููุนูุฏ ุบูุฑ ุงููุญููุฉ ุจุนุฏ'
            ],
            
            // ูุตุต ุงููุฌุงุญ ุงููุชุงุญุฉ
            successStories: [
                { client: 'ูุญุงูุต ุงูุดุนุจ', story: 'ุชูุณุน ุงูุทุงูุฉ ุงูุฅูุชุงุฌูุฉ 3x ูู ูููุน ุงุณุชุฑุงุชูุฌู' },
                { client: 'ูุจูุงู', story: 'ุจูุงุจุฉ ุงูุชุตุฏูุฑ ููุณุนูุฏูุฉ - ูููุฐุฌ ูููุฌุงุญ ุงูุฅููููู' },
                { client: 'ูุตูุน ุงูุชุฌููู', story: 'ุฅูุชุงุฌ ูุญูู ุจูุนุงููุฑ ุนุงูููุฉ' }
            ],
            
            // ุชุญููู ุงููุฌูุงุช (Gap Analysis)
            gapAnalysis: [
                { area: 'ุงููุนู ุจุงูุนูุงูุฉ', current: 'ALIC ุนูุงูุฉ ุฌุฏูุฏุฉ - ูุฑุญูุฉ ุจูุงุก ุงููุนู ูุจู ุงูุฅุทูุงู Q1 2026', bestPractice: 'KAEC: ุญููุงุช ุชุดููููุฉ + PR ูุจู ุงูุฅุทูุงู ุจู 6 ุฃุดูุฑ' },
                { area: 'ุงููุญุชูู ุงููุฑุฆู', current: 'ูุฑุญูุฉ ูุง ูุจู ุงูุจูุงุก - ูุง ููุฌุฏ ูุญุชูู ูุฑุฆู ูููุดุฑูุน ุญุงููุงู', bestPractice: 'DIC: Renders + ุฌููุงุช ุงูุชุฑุงุถูุฉ + ููุฏูู ุชุดูููู ูุจู ุงูุฅุทูุงู' },
                { area: 'ุงูุชูุงูุฒ ุงูุชูุงูุณู', current: 'ููุงูุณุฉ ูุน ูุฏู ุตูุงุนูุฉ ุฑุงุณุฎุฉ ุฐุงุช ุณูุนุฉ ุทูููุฉ', bestPractice: 'Prologis: ูุตุฉ ูุฑูุฏุฉ + USP ูุงุถุญ + ุฑุณุงุฆู ูุชุฎุตุตุฉ ููู ุดุฑูุญุฉ' },
                { area: 'ุฅูุตุงู ุงููููุฉ ุงููุฑูุฏุฉ', current: 'ุชุญุฏู ุฅุจุฑุงุฒ ูุง ูููุฒ ALIC ุนู ุงูููุงูุณูู ุงูุฑุงุณุฎูู', bestPractice: 'GLP: ุงูุชุฑููุฒ ุนูู ุงููุฑููุฉ + ุงูุณุฑุนุฉ + ุฎุฏูุฉ ุงูุนููุงุก ูููุฒุฉ' }
            ]
        },
        
        // ==========================================
        // ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ (Benchmarks)
        // ==========================================
        benchmarks: {
            // ูุทุงู ุงูุฏุฑุงุณุฉ
            scope: {
                entities: 14,
                countries: 6,
                models: 4,
                description: 'ุชุญููู ููุงุฑู ุดุงูู ูุงุณุชุฑุงุชูุฌูุงุช ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ ูููุฏู ูุงูููุงุทู ุงูุตูุงุนูุฉ'
            },
            
            // ุฃูุฏุงู ุงูุฏุฑุงุณุฉ
            studyObjectives: [
                'ุชูููู ุงูุฑุณุงุฆู ุงูุงุชุตุงููุฉ ูุงูููู ุงูููุชุฑุญุฉ',
                'ุชุญููู ุงููููุงุช ูุงูุฃุฏูุงุช ุงูุงุชุตุงููุฉ',
                'ุงุณุชุฎูุงุต ุฃูุถู ุงูููุงุฑุณุงุช ุงููุงุจูุฉ ููุชุทุจูู',
                'ุชุญุฏูุฏ ุงููุฌูุงุช ูุงููุฑุต ุงูุชูุงูุณูุฉ'
            ],
            
            // ุงูููุงูุงุช ุงููุฏุฑูุณุฉ
            entities: {
                global: [
                    { name: 'Prologis', country: 'ุฃูุฑููุง', strategy: 'Beyond the Box - ููุตุงุช ุญููู ูุชูุงููุฉ (Essentials): ุงูุนูููุงุชุ ุงูุทุงูุฉุ ุงูุชูููุ ุงูููู ุงูุนุงููุฉ' },
                    { name: 'GLP', country: 'ุณูุบุงููุฑุฉ', strategy: 'ุงูููุธููุฉ ุงูุจูุฆูุฉ ุงูุซูุงุซูุฉ: ุงูุนูุงุฑุงุช + ุงูุชูููููุฌูุง + ุงูุชูููู' }
                ],
                gulf: [
                    { name: 'DIC - ูุฏููุฉ ุฏุจู ุงูุตูุงุนูุฉ', country: 'ุงูุฅูุงุฑุงุช', strategy: 'ุญููุฉ ุตูุงุนุฉ ุงูุชุฃูู (Make Brilliance) - ููุงุกูุฉ ูุน ุงุตูุน ูู ุงูุฅูุงุฑุงุช' },
                    { name: 'KEZAD', country: 'ุฃุจูุธุจู', strategy: 'ุงููุฑูุฒ ุงููุชูุงูู ููุชุฌุงุฑุฉ - 550 ููยฒ + ุทุฑูู ุงููุนุฏู ุงูุณุงุฎู + ุงูุชุฑุฎูุต ุงููุฒุฏูุฌ' },
                    { name: 'KAEC', country: 'ุงูุณุนูุฏูุฉ', strategy: 'ููุงุกูุฉ ูุน ุฑุคูุฉ 2030 + ุจูุงุจุฉ ุงูุจุญุฑ ุงูุฃุญูุฑ' }
                ],
                regional: [
                    { name: 'ุฃูุฑุงุณููู', country: 'ูุตุฑ', strategy: 'ูุฌุชูุนุงุช ุตูุงุนูุฉ ูุชูุงููุฉ + ุฏุนู SMEs' },
                    { name: 'ุจููุงุฑูุณ ุจุงุฑูุณ', country: 'ูุตุฑ', strategy: 'ุญููู ูุชูุงููุฉ + ุจูุตูุฉ ูููุณุชุซูุฑูู' },
                    { name: 'ุฅุณุจุงุด', country: 'ุชุฑููุง', strategy: 'ุงูุชุฎุตุต ุงูุนูููุฏู + ูุฑุงูุฒ R&D' },
                    { name: 'ุทูุฌุฉ ุงููุชูุณุท', country: 'ุงููุบุฑุจ', strategy: 'ุจูุงุจุฉ ุฃูุฑูููุง ูุฃูุฑูุจุง - Nearshoring' }
                ],
                local: [
                    { name: 'Agility - ุงููุณุทู', country: 'ุงูุฃุฑุฏู', type: 'ููุงูุณ ุฑุฆูุณู', strategy: 'ูุฑูุฒ ููุฌุณุชู ูุชูุงูู' },
                    { name: 'ููุทูุฉ ุงูุฑุฌู ุงูุดุงูู', country: 'ุงูุฃุฑุฏู', strategy: 'ุตูุงุนูุฉ ุชูููุฏูุฉ' },
                    { name: 'ูุฏููุฉ ุณุญุงุจ ุงูุตูุงุนูุฉ', country: 'ุงูุฃุฑุฏู', strategy: 'ุตูุงุนูุฉ ุชูููุฏูุฉ' },
                    { name: 'ูุฏููุฉ ุงููููุฑ ุงูุตูุงุนูุฉ', country: 'ุงูุฃุฑุฏู', strategy: 'ุตูุงุนูุฉ ุชูููุฏูุฉ' },
                    { name: 'ูุฏููุฉ ุงูุชุฌูุนุงุช ุงูุตูุงุนูุฉ', country: 'ุงูุฃุฑุฏู', strategy: 'ุตูุงุนูุฉ ุชูููุฏูุฉ' }
                ]
            },
            
            // ุงูุฑุคู ูู ุงูููุงุฐุฌ ุงูุฃุฑุจุนุฉ
            modelInsights: {
                global: {
                    title: 'ููุธููุงุช ุนุงูููุฉ ูุชูุงููุฉ',
                    insight: 'ุงููุงุนุจูู ุงูุนุงููููู ูุซู Prologis ู GLP ููุฏููู ููุตุงุช ุฎุฏูุงุช ุดุงููุฉ ุชุชุฌุงูุฒ ุงูุฅูุฌุงุฑ ุงูุชูููุฏู ูุญู ุญููู ุงููููุฉ ุงููุถุงูุฉ',
                    recommendation: 'ุชุทููุฑ "ALIC Essentials" - ููุตุฉ ุฎุฏูุงุช ูุชูุงููุฉ'
                },
                gulf: {
                    title: 'ููุงุกูุฉ ูุน ุงูุฑุคู ุงููุทููุฉ',
                    insight: 'ุงูููุตุงุช ุงูุฎููุฌูุฉ ุชุฑุจุท ุญููุงุชูุง ุงูุงุชุตุงููุฉ ุจุจุฑุงูุฌ ุงูุชุญูู ุงูุงูุชุตุงุฏู (ุฑุคูุฉ ุงูุณุนูุฏูุฉ 2030ุ ุงุตูุน ูู ุงูุฅูุงุฑุงุช)',
                    recommendation: 'ุฑุจุท ุงูุฑุณุงุฆู ุจุฑุคูุฉ ุงูุชุญุฏูุซ ุงูุงูุชุตุงุฏู ุงูุฃุฑุฏูู'
                },
                regional: {
                    title: 'ุชุฎุตุต ูุทุงุนู ูุชูููู ุงูุดุฑูุงุช',
                    insight: 'ุงูููุงุทู ุงููุชุฎุตุตุฉ ูู ูุตุฑ ูุชุฑููุง ุชุฑูุฒ ุนูู ุจูุงุก ูุฌุชูุนุงุช ุตูุงุนูุฉ ููุฌูุฉ ููุทุงุนุงุช ูุญุฏุฏุฉ ูุน ุญููู ุชูููู ูุชุฏุฑูุจ',
                    recommendation: 'ุจุฑูุงูุฌ "ุจูุตูุฉ ุฃููู" ูุชูููู ุงููุณุชุซูุฑูู'
                },
                local: {
                    title: 'ุงูุชููุฒ ุงููุญูู ูุงููููุฉ ุงููุทููุฉ',
                    insight: 'ุงููุฏู ุงูุตูุงุนูุฉ ุงูุฃุฑุฏููุฉ ุชุฑูุฒ ุนูู ุงููููุน ุงูุงุณุชุฑุงุชูุฌู ูุงูุฃุณุนุงุฑ ุงูุชูุงูุณูุฉ ููู ูุฌูุฉ ูู ุงูุฎุฏูุงุช ุงููุชูุงููุฉ',
                    recommendation: 'ุฃููู ุชุณุฏ ุงููุฌูุฉ ูุฃูู ูุฏููุฉ ููุฌุณุชูุฉ ููุฏุงุฑุฉ ุจูุนุงููุฑ ุนุงูููุฉ'
                }
            },
            
            // ุงูููุงุฑูุฉ ุงูุฑุฆูุณูุฉ
            comparison: {
                valueProposition: {
                    global: 'ุงูููุงุกุฉุ ุงูุชูููููุฌูุงุ ุชุฃุซูุฑ ุงูุดุจูุฉ',
                    gulf: 'ุงูุฑุคูุฉ ุงููุทููุฉุ ุชูุงูู ุงูููุงูุฆุ ุงูุญุฌู',
                    regional: 'ูุฌุชูุนุงุช ูุชูุงููุฉุ ุฏุนู SMEsุ ุชูููุฉ ููุฎูุถุฉ',
                    local: 'ุงููููุน ุงูุงุณุชุฑุงุชูุฌูุ ุฃุณุนุงุฑ ุชูุงูุณูุฉุ ูุฌูุฉ ูู ุงูุฎุฏูุงุช ุงููุชูุงููุฉ'
                },
                sustainability: {
                    global: 'ูุฑูุฒูุฉ - ุญูุงุฏ ูุฑุจูููุ ุทุงูุฉ ุดูุณูุฉ',
                    gulf: 'ุงุณุชุฑุงุชูุฌูุฉ - ููุงุกูุฉ ุงูุญูุงุฏ 2050',
                    regional: 'ูุงุดุฆุฉ - ุญุฏุงุฆู ุจูุฆูุฉ',
                    local: 'ุบุงุฆุจุฉ - ูุง ุชูุฌุฏ ููุงุทู ESG ูุนุชูุฏุฉ'
                },
                technology: {
                    global: 'ููุชุฌ - Essentialsุ ุฑูุจูุชุงุช',
                    gulf: 'ูููู - ูุฏู ุฐููุฉุ ููุตุงุช ุฑูููุฉ',
                    regional: 'ููุฒุฉ - ุนุฏุงุฏุงุช ุฐููุฉุ ุฃููุงู ุถูุฆูุฉ',
                    local: 'ูุญุฏูุฏุฉ - ุจููุฉ ุชุญุชูุฉ ุชูููุฏูุฉ'
                }
            },
            
            // ุงูุฎูุงุตุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ
            strategicConclusion: 'ุฃููู ูู ูููุน ูุฑูุฏ ูุณุฏ ูุฌูุฉ ุงูุณูู ุงูุฃุฑุฏูู ุจุชูุฏูู ุฃูู ูุฏููุฉ ููุฌุณุชูุฉ ููุฏุงุฑุฉ ุจูุนุงููุฑ ุนุงูููุฉ. ุงููุทููุจ: ุงูุชุฑููุฌ ูููููุฉ ุงููุถุงูุฉ ูุง ุงููุณุงุญุงุชุ ูุจูุงุก ุดุฑุงูุงุช ุงุณุชุฑุงุชูุฌูุฉ ูุน ุดุฑูุงุช 3PL ูุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ.'
        },
        
        // ==========================================
        // ุงูุฌูููุฑ ุงููุณุชูุฏู ุงูุชูุตููู
        // ==========================================
        targetAudienceMatrix: {
            primary: [
                {
                    segment: 'ุงูุดุฑูุงุช ุงูุตูุงุนูุฉ ุงููุชูุณุทุฉ ูุงููุจุฑู',
                    icon: 'industry',
                    wants: 'ูุณุงุญุงุช ุฌุงูุฒุฉ ููุชุดุบูู ุงูููุฑูุ ุชูููุฉ ุชุดุบูููุฉ ุชูุงูุณูุฉุ ุจููุฉ ุชุญุชูุฉ ูุชูุงููุฉุ ุชุณูููุงุช ุฏูุน ูุฑูุฉ',
                    weWant: 'ุดุฑุงุก/ุงุณุชุฆุฌุงุฑ ูุญุฏุงุช ุตูุงุนูุฉุ ููู ุนูููุงุชูู ูููุฏููุฉุ ุนููุฏ ุทูููุฉ ุงูุฃูุฏ',
                    message: 'ูุณูุน ุฅูุชุงุฌู ุจุฏูู ุนูุงุก ุงูุจูุงุก - ูุณุชูุฏุนุงุช ุฌุงูุฒุฉ ุจุชูุณูุท ูุฑูุญ ุชุตู ุฅูู 10 ุณููุงุช',
                    channels: ['ุฒูุงุฑุงุช ููุฏุงููุฉ', 'ุบุฑู ุตูุงุนุฉ'],
                    tone: 'ุนูููุฉ'
                },
                {
                    segment: 'ุงููุณุชุซูุฑูู ุงูุฅููููููู',
                    icon: 'globe',
                    wants: 'ูุงุนุฏุฉ ุงูุทูุงู ุฅูููููุฉุ ูููุน ุงุณุชุฑุงุชูุฌู ูุฑุจ ุงูุญุฏูุฏุ ุงุชูุงููุงุช ุชุฌุงุฑุฉ ุญุฑุฉุ ุงุณุชูุฑุงุฑ ุชุดุฑูุนู',
                    weWant: 'ุงุณุชุซูุงุฑุงุช ูุจุงุดุฑุฉุ ููู ููุงุนุฏูู ุงูุชุดุบูููุฉุ ุดุฑุงูุงุช ุงุณุชุฑุงุชูุฌูุฉ ุทูููุฉ ุงูุฃูุฏ',
                    message: 'ูุงุนุฏุชู ุงูุฃุฑุฏููุฉ ููุงูุทูุงู - ุจูุงุจุฉ ุงูุฃุณูุงู ุงูุฅูููููุฉ + ุงุชูุงููุงุช ุชุฌุงุฑุฉ ุญุฑุฉ ูุน 50+ ุฏููุฉ',
                    channels: ['ูุคุชูุฑุงุช ุงุณุชุซูุงุฑ', 'ุนูุงูุงุช ุนุงูุฉ'],
                    tone: 'ุงุณุชุฑุงุชูุฌูุฉ'
                },
                {
                    segment: 'ุดุฑูุงุช 3PL ูุงูููุฌุณุชูุงุช',
                    icon: 'truck',
                    wants: 'ูุฑุจ ูู ุงููุทุงุฑ ูุงููููุงุก ุงูุฌุงูุ ูุณุชูุฏุนุงุช ุญุฏูุซุฉุ ุจููุฉ ุชูููุฉ ูุชุทูุฑุฉุ ุณูููุฉ ุงููุตูู',
                    weWant: 'ุฅูุดุงุก ูุฑุงูุฒ ุชูุฒูุนุ ุฎุฏูุงุช Fulfillment ููุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉุ ุนููุฏ ุชุฎุฒูู',
                    message: '15 ุฏูููุฉ ูู ุงููุทุงุฑุ 20 ูู ุงูุญุฏูุฏ - ุฃูุฑุจ ูููุน ููุฌุณุชู ููุชูุตูู ุงูุณุฑูุน',
                    channels: ['LinkedIn', 'ูุนุงุฑุถ ููุฌุณุชูุฉ'],
                    tone: 'ุชูููุฉ'
                }
            ],
            secondary: [
                {
                    segment: 'ุงูุฌูุงุช ุงูุญููููุฉ',
                    icon: 'landmark',
                    wants: 'ูุฌุงุญ ุงููุดุฑูุน ูุฏุงุนู ููุงูุชุตุงุฏุ ุงูุชุฒุงู ุจุงูููุงูููุ ุฎูู ูุฑุต ุนููุ ุฏุนู ุฑุคูุฉ ุงูุชุญุฏูุซ',
                    weWant: 'ุชุณูููุงุช ุชูุธูููุฉุ ุฏุนู ุงูุจููุฉ ุงูุชุญุชูุฉุ ุชุฑููุฌ ูููุฏููุฉ ููุฌูุฉ ุงุณุชุซูุงุฑูุฉ ูุทููุฉ'
                },
                {
                    segment: 'ุงููุคุณุณุงุช ุงููุงููุฉ',
                    icon: 'university',
                    wants: 'ูุฑุต ุงุณุชุซูุงุฑูุฉ ุขููุฉุ ุฃุตูู ุนูุงุฑูุฉ ุจุนุงุฆุฏ ูุถูููุ ุชุฏููุงุช ููุฏูุฉ ูุณุชูุฑุฉ',
                    weWant: 'ุชูููู ูุดุงุฑูุน ุงูุชูุณุนุ ุจุฑุงูุฌ ุชูููู ูููุณุชุซูุฑููุ ุดุฑุงูุงุช ุงุณุชุซูุงุฑูุฉ'
                },
                {
                    segment: 'ุงูุฅุนูุงู ุงููุชุฎุตุต',
                    icon: 'newspaper',
                    wants: 'ูุตุต ูุฌุงุญ ุญุตุฑูุฉุ ุฃุฎุจุงุฑ ุฅูุฌุงุจูุฉุ ูุญุชูู ุฌุฐุงุจ',
                    weWant: 'ุชุบุทูุฉ ุฅูุฌุงุจูุฉ ูุณุชูุฑุฉุ ุจูุงุก ุงูุณูุนุฉุ ูุดุฑ ุงููุนู ุจุฃูููุฉ ุงููุดุฑูุน ุฅูููููุงู'
                }
            ]
        },
        
        // ==========================================
        // ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ ููุญููุฉ
        // ==========================================
        campaignProducts: [
            // ุงููุฑุญูุฉ 1: ุงูุชููุฆุฉ ูุงูุชุดููู (1-14 ููุงูุฑ 2026)
            {
                id: 'p1',
                phase: 1,
                phaseName: 'ุงูุชููุฆุฉ ูุงูุชุดููู',
                title: 'ููุดูุฑ LinkedIn ุชุดูููู',
                type: 'social_media',
                platform: 'LinkedIn',
                date: '2026-01-01',
                objective: 'ุจูุงุก ุงููุนู ุจููููู ุงููุฏู ุงูููุฌุณุชูุฉ ุงูููุฏุงุฑุฉ',
                audience: 'ุงูุดุฑูุงุช ุงูุตูุงุนูุฉ',
                message: 'ูุณูุน ุฅูุชุงุฌู ุจุฏูู ุนูุงุก ุงูุจูุงุก - ูุณุชูุฏุนุงุช ุฌุงูุฒุฉ',
                deliverables: ['ูุต ุงูููุดูุฑ', 'ุตูุฑุฉ/ุฌุฑุงููู', 'ุฌุฏูู ุงููุดุฑ'],
                budget: '$300 B2B',
                reach: '15,000+ ุตุงูุน ูุฑุงุฑ'
            },
            {
                id: 'p2',
                phase: 1,
                phaseName: 'ุงูุชููุฆุฉ ูุงูุชุดููู',
                title: 'ุจูุงู ุตุญูู ุงููุดู ุนู ALIC',
                type: 'press_release',
                platform: 'ุงูุบุฏุ ุงูููููุฉุ ุฑุคูุงุ Jordan Timesุ ุนููู',
                date: '2025-12-26',
                objective: 'ุจูุงุก ุงููุนู ุจููููู ุงููุฏู ุงูููุฌุณุชูุฉ ุงูููุฏุงุฑุฉ',
                audience: 'ุงูุฅุนูุงู ุงููุชุฎุตุต',
                message: 'ูุตุฉ ูุฌุงุญ ุฃุฑุฏููุฉ - ูุฏููุฉ ููุฌุณุชูุฉ ุชุนูุฏ ุฑุณู ุงูุฎุงุฑุทุฉ',
                deliverables: ['ุงูุจูุงู ุงูุตุญูู', 'ููู ุงููุณุงุฆุท', 'ูุงุฆูุฉ ุงูุชูุฒูุน'],
                reach: '500,000+ ูุงุฑุฆ'
            },
            {
                id: 'p3',
                phase: 1,
                phaseName: 'ุงูุชููุฆุฉ ูุงูุชุดููู',
                title: 'ุญููุฉ SMS ูุบุฑูุฉ ุงูุตูุงุนุฉ',
                type: 'sms_campaign',
                platform: 'SMS + Email',
                date: '2025-12-27',
                objective: 'ุจูุงุก ุงููุนู ุจููููู ุงููุฏู ุงูููุฌุณุชูุฉ ุงูููุฏุงุฑุฉ',
                audience: 'ุฃุนุถุงุก ุบุฑูุฉ ุตูุงุนุฉ ุนูุงู',
                message: 'ูุณูุน ุฅูุชุงุฌู ุจุฏูู ุนูุงุก ุงูุจูุงุก - ูุณุชูุฏุนุงุช ุฌุงูุฒุฉ ุจุชูุณูุท ูุฑูุญ',
                deliverables: ['ูุต ุงูุฑุณุงูุฉ SMS', 'ูุต ุงูุจุฑูุฏ ุงูุฅููุชุฑููู', 'ูุงุฆูุฉ ุงููุณุชูููู', 'ุชูุฑูุฑ ุงูุฅุฑุณุงู'],
                reach: '2,500+ ุนุถู'
            },
            {
                id: 'p4',
                phase: 1,
                phaseName: 'ุงูุชููุฆุฉ ูุงูุชุดููู',
                title: 'ููุฏูู ุชุดูููู (Teaser)',
                type: 'video',
                platform: 'YouTube, LinkedIn, Instagram',
                date: '2026-01-05',
                objective: 'ุจูุงุก ุงูุชุฑูุจ ูุงููุถูู',
                audience: 'ุงูุฌูููุฑ ุงูุนุงู ูุงููุณุชุซูุฑูู',
                message: '15 ูู ุชูุตูู ุนู ุงูุนุงูู',
                deliverables: ['ุงูููุฏูู ุงูููุงุฆู (30 ุซุงููุฉ)', 'ููู ุงูุณููุงุฑูู', 'ูููุงุช ุงููุตุฏุฑ'],
                budget: '$2,000'
            },
            {
                id: 'p5',
                phase: 1,
                phaseName: 'ุงูุชููุฆุฉ ูุงูุชุดููู',
                title: 'ููุงู ุฑุฃู ุงูุชุตุงุฏู',
                type: 'article',
                platform: 'ุงูุบุฏุ ุงูุฑุฃู',
                date: '2026-01-10',
                objective: 'ุจูุงุก ุงููุตุฏุงููุฉ ูุงูุฑูุงุฏุฉ ุงูููุฑูุฉ',
                audience: 'ุตูุงุน ุงููุฑุงุฑ ุงูุงูุชุตุงุฏู',
                message: 'ููุงุฐุง ุงูุฃุฑุฏู ูุฑูุฒ ููุฌุณุชู ุฅูููููุ',
                deliverables: ['ุงูููุงู', 'ุตูุฑุฉ ุงููุงุชุจ', 'ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ']
            },
            // ุงููุฑุญูุฉ 2: ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู (15-20 ููุงูุฑ 2026)
            {
                id: 'p6',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ุญุฏุซ ุชุณููู ูุญุงูุต ุงูุดุนุจ',
                type: 'event',
                platform: 'ูู ุงููููุน',
                date: '2026-01-15',
                objective: 'ุฅุซุจุงุช ุงููุฌุงุญ ูุงููุตุฏุงููุฉ',
                audience: 'ุงูุฅุนูุงูุ ุงููุณุชุซูุฑููุ ุงูุดุฑูุงุก',
                message: 'ุฃูู ูุตุฉ ูุฌุงุญ - ูุญุงูุต ุงูุดุนุจ ุชุชูุณุน ูุน ุฃููู',
                deliverables: ['ุฎุทุฉ ุงูุญุฏุซ', 'ูุงุฆูุฉ ุงููุฏุนููู', 'ุงูุจุฑูุงูุฌ', 'ุงูุชุบุทูุฉ ุงูุฅุนูุงููุฉ']
            },
            {
                id: 'p7',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ููุฏูู ูุญุงูุต ุงูุดุนุจ (ูุตุฉ ุงููุฌุงุญ)',
                type: 'video',
                platform: 'YouTube, LinkedIn',
                date: '2026-01-15',
                objective: 'ุฅุซุจุงุช ุงููุฌุงุญ ูุงููุตุฏุงููุฉ',
                audience: 'ุงูุดุฑูุงุช ุงูุตูุงุนูุฉุ ุงููุณุชุซูุฑูู',
                message: 'ููู ุชูุณุนุช ูุญุงูุต ุงูุดุนุจ 3x ูุน ุฃููู',
                deliverables: ['ุงูููุฏูู ุงูููุงุฆู (3 ุฏูุงุฆู)', 'ุงูููุงุจูุงุช', 'B-Roll']
            },
            {
                id: 'p8',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ุจูุงู ุตุญูู ุงูุฅุทูุงู ุงูุฑุณูู',
                type: 'press_release',
                platform: 'ุฌููุน ุงููุณุงุฆู ุงูุฅุนูุงููุฉ',
                date: '2026-01-15',
                objective: 'ุงูุฅุนูุงู ุงูุฑุณูู ุนู ุงูุฅุทูุงู',
                audience: 'ุงูุฅุนูุงูุ ุงูุฌูููุฑ ุงูุนุงู',
                message: 'ููุจูุฒ ุงูุนูุงุฑูุฉ ุชูุทูู ALIC ุฑุณููุงู',
                deliverables: ['ุงูุจูุงู ุงูุตุญูู', 'ุตูุฑ ุงูุญุฏุซ', 'ุชุตุฑูุญุงุช ุงููุณุคูููู']
            },
            {
                id: 'p9',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ููุงุจูุฉ ุชููุฒููููุฉ (ุฑุคูุง/ุงูููููุฉ)',
                type: 'interview',
                platform: 'ุฑุคูุงุ ุงูููููุฉ',
                date: '2026-01-16',
                objective: 'ุจูุงุก ุงููุตุฏุงููุฉ ูุงููุตูู ุงูุฌูุงููุฑู',
                audience: 'ุงูุฌูููุฑ ุงูุฃุฑุฏูู ุงูุนุงู',
                message: 'ุฑุคูุฉ ุฃููู ููุงูุชุตุงุฏ ุงูุฃุฑุฏูู',
                deliverables: ['ููุงุท ุงูุญุฏูุซ', 'Media Kit', 'ุชุณุฌูู ุงูููุงุจูุฉ']
            },
            {
                id: 'p10',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ุฌููุฉ ุฅุนูุงููุฉ ูู ุงููููุน',
                type: 'media_tour',
                platform: 'ูู ุงููููุน',
                date: '2026-01-17',
                objective: 'ุจูุงุก ุงููุตุฏุงููุฉ ูุฅุซุจุงุช ุงูุฌุงูุฒูุฉ',
                audience: 'ุงูุตุญูููู ูุงูุฅุนูุงูููู',
                message: 'ุดุงูุฏ ุจููุณู - ุฃููู ุฌุงูุฒุฉ',
                deliverables: ['ุจุฑูุงูุฌ ุงูุฌููุฉ', 'ูุงุฆูุฉ ุงูุตุญูููู', 'ููู ุฅุนูุงูู', 'ููู ูุถูุงูุฉ']
            },
            {
                id: 'p11',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'ุญููุฉ LinkedIn ุงูุฑุฆูุณูุฉ',
                type: 'social_media',
                platform: 'LinkedIn',
                date: '2026-01-15',
                objective: 'ุงููุตูู ูุตูุงุน ุงููุฑุงุฑ B2B',
                audience: 'ูุฏูุฑู ุงูุนูููุงุชุ ูุฏูุฑู ุณูุงุณู ุงูุฅูุฏุงุฏ',
                message: 'ุฃููู - ุดุฑููู ููููู',
                deliverables: ['5 ููุดูุฑุงุช', 'ุฌุฑุงูููุณ', 'ุฌุฏูู ุงููุดุฑ'],
                budget: '$1,500'
            },
            {
                id: 'p12',
                phase: 2,
                phaseName: 'ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู',
                title: 'Email Newsletter',
                type: 'email',
                platform: 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู',
                date: '2026-01-16',
                objective: 'ุงูุชูุงุตู ุงููุจุงุดุฑ ูุน ุงูุนููุงุก ุงููุญุชูููู',
                audience: 'ูุงุฆูุฉ ุงูุนููุงุก ุงููุญุชูููู',
                message: 'ุฃููู ุฃูุทููุช ุฑุณููุงู - ุงุญุฌุฒ ููุนุฏู',
                deliverables: ['ุชุตููู ุงููุดุฑุฉ', 'ูุงุฆูุฉ ุงููุณุชูููู', 'ุชูุฑูุฑ ุงููุชุญ ูุงูููุฑ']
            },
            // ุงููุฑุญูุฉ 3: ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ (21-31 ููุงูุฑ 2026)
            {
                id: 'p13',
                phase: 3,
                phaseName: 'ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ',
                title: 'ููู Case Study ูุญุงูุต ุงูุดุนุจ',
                type: 'document',
                platform: 'ูููุน ุงูููุจุ LinkedIn',
                date: '2026-01-22',
                objective: 'ุฅุซุจุงุช ุงููุฌุงุญ ุจุงูุฃุฑูุงู',
                audience: 'ุงูุดุฑูุงุช ุงูุตูุงุนูุฉุ ุงููุณุชุซูุฑูู',
                message: 'ููู ูููุฑุช ูุญุงูุต ุงูุดุนุจ 30% ูู ุชูุงููู ุงูุชุดุบูู',
                deliverables: ['PDF ุงูุชูุฑูุฑ', 'ูุณุฎุฉ ููุจ', 'ููุฎุต ุชูููุฐู']
            },
            {
                id: 'p14',
                phase: 3,
                phaseName: 'ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ',
                title: 'Infographic ุงูุฅูุฌุงุฒุงุช',
                type: 'design',
                platform: 'ุฌููุน ุงููููุงุช',
                date: '2026-01-25',
                objective: 'ุชูุฎูุต ุงูุฅูุฌุงุฒุงุช ุจุตุฑูุงู',
                audience: 'ุฌููุน ุงูุดุฑุงุฆุญ',
                message: 'ุฃููู ุจุงูุฃุฑูุงู',
                deliverables: ['ุงูุฅูููุฌุฑุงููู', 'ูุณุฎ ูุชุนุฏุฏุฉ ุงูุฃุญุฌุงู']
            },
            {
                id: 'p15',
                phase: 3,
                phaseName: 'ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ',
                title: 'ุชูุฑูุฑ ุฃุซุฑ ุงูุชุตุงุฏู',
                type: 'report',
                platform: 'ูููุน ุงูููุจุ ุงูุฅุนูุงู',
                date: '2026-01-28',
                objective: 'ุฅุซุจุงุช ุงููููุฉ ุงูุงูุชุตุงุฏูุฉ ูููุดุฑูุน',
                audience: 'ุงูุญูููุฉุ ุงููุณุชุซูุฑููุ ุงูุฅุนูุงู',
                message: 'ุฃููู ุชูุณุงูู ูู ุงููุงุชุฌ ุงููุญูู',
                deliverables: ['ุงูุชูุฑูุฑ ุงููุงูู', 'ููุฎุต ุชูููุฐู', 'ุจูุงูุงุช ุฏุงุนูุฉ']
            },
            {
                id: 'p16',
                phase: 3,
                phaseName: 'ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ',
                title: 'ุญููุฉ LinkedIn B2B',
                type: 'advertising',
                platform: 'LinkedIn Ads',
                date: '2026-01-21',
                objective: 'ุฌุฐุจ ุนููุงุก ุฌุฏุฏ',
                audience: 'ุตูุงุน ุงููุฑุงุฑ ูู ุงูุดุฑูุงุช ุงููุณุชูุฏูุฉ',
                message: 'ุงุญุฌุฒ ูููุนู ูู ุฃููู',
                deliverables: ['ุงูุฅุนูุงูุงุช', 'ุงุณุชูุฏุงู ุงูุฌูููุฑ', 'ุชูุฑูุฑ ุงูุฃุฏุงุก'],
                budget: '$3,000'
            },
            {
                id: 'p17',
                phase: 3,
                phaseName: 'ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ',
                title: 'ุชูุฑูุฑ ุฎุชุงู ุงูุญููุฉ',
                type: 'report',
                platform: 'ุฏุงุฎูู',
                date: '2026-01-31',
                objective: 'ุชูููู ุฃุฏุงุก ุงูุญููุฉ',
                audience: 'ุงูุฅุฏุงุฑุฉุ ุงููุฑูู',
                message: 'ูุชุงุฆุฌ ุญููุฉ ุงูุฅุทูุงู',
                deliverables: ['ุงูุชูุฑูุฑ ุงูููุงุฆู', 'ุชุญููู KPIs', 'ุชูุตูุงุช ูุณุชูุจููุฉ']
            }
        ]
    },
    
    // ==========================================
    // ุงูุชููุฆุฉ
    // ==========================================
    init: function(projectId) {
        this.currentProjectId = projectId || 'alic-almuwaqqar';
        this.db = firebase.firestore();
        this.setupRealtimeListeners();
        this.renderSubTabs();
        this.loadDashboard();
        this.loadQuestionnaireData(); // ุชุญููู ุจูุงูุงุช ุงูุงุณุชุจูุงู
        console.log('โ Campaign Manager initialized for:', this.currentProjectId);
        console.log('๐ค AI Assistant loaded with project knowledge');
    },
    
    // ุชุญููู ุจูุงูุงุช ุงูุงุณุชุจูุงู ูู Firebase
    loadQuestionnaireData: async function() {
        try {
            const doc = await this.db.collection('questionnaires').doc(this.currentProjectId).get();
            if (doc.exists) {
                this.projectKnowledge.questionnaireData = doc.data();
                console.log('๐ Questionnaire data loaded for AI');
            }
        } catch (error) {
            console.log('Note: No questionnaire data found, using defaults');
        }
    },
    
    // ==========================================
    // Sub-Tabs Navigation
    // ==========================================
    subTabs: [
        { id: 'dashboard', icon: 'fa-tachometer-alt', label: 'ุงูููุฎุต' },
        { id: 'tasks', icon: 'fa-tasks', label: 'ุงูููุงู' },
        { id: 'approvals', icon: 'fa-check-double', label: 'ุงูุงุนุชูุงุฏุงุช' },
        { id: 'messages', icon: 'fa-comments', label: 'ุงููุฑุงุณูุงุช' },
        { id: 'reports', icon: 'fa-chart-pie', label: 'ุงูุชูุงุฑูุฑ' }
    ],
    
    renderSubTabs: function() {
        const container = document.getElementById('campaign-subtabs');
        if (!container) return;
        
        let html = '<div class="subtabs-nav">';
        this.subTabs.forEach(tab => {
            const isActive = tab.id === this.currentSubTab ? 'active' : '';
            html += `
                <button class="subtab-btn ${isActive}" onclick="CampaignManager.switchSubTab('${tab.id}')">
                    <i class="fas ${tab.icon}"></i>
                    <span>${tab.label}</span>
                    ${tab.id === 'approvals' ? '<span class="badge" id="approvals-badge" style="display:none;">0</span>' : ''}
                    ${tab.id === 'messages' ? '<span class="badge" id="messages-badge" style="display:none;">0</span>' : ''}
                </button>
            `;
        });
        html += '</div>';
        container.innerHTML = html;
    },
    
    switchSubTab: function(tabId) {
        this.currentSubTab = tabId;
        
        // Update active state
        document.querySelectorAll('.subtab-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.onclick.toString().includes(tabId)) {
                btn.classList.add('active');
            }
        });
        
        // Load content
        const contentContainer = document.getElementById('campaign-content');
        switch(tabId) {
            case 'dashboard':
                this.loadDashboard();
                break;
            case 'tasks':
                this.loadTasksView();
                break;
            case 'approvals':
                this.loadApprovalsView();
                break;
            case 'messages':
                this.loadMessagesView();
                break;
            case 'reports':
                this.loadReportsView();
                break;
        }
    },
    
    // ==========================================
    // Dashboard - ุงูููุฎุต
    // ==========================================
    loadDashboard: function() {
        const container = document.getElementById('campaign-content');
        if (!container) return;
        
        container.innerHTML = `
            <div class="dashboard-grid">
                <!-- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ -->
                <div class="stats-row">
                    <div class="stat-card stat-total">
                        <div class="stat-icon"><i class="fas fa-clipboard-list"></i></div>
                        <div class="stat-info">
                            <span class="stat-number" id="total-tasks">0</span>
                            <span class="stat-label">ุฅุฌูุงูู ุงูููุงู</span>
                        </div>
                    </div>
                    <div class="stat-card stat-progress">
                        <div class="stat-icon"><i class="fas fa-spinner"></i></div>
                        <div class="stat-info">
                            <span class="stat-number" id="in-progress-tasks">0</span>
                            <span class="stat-label">ููุฏ ุงูุชูููุฐ</span>
                        </div>
                    </div>
                    <div class="stat-card stat-review">
                        <div class="stat-icon"><i class="fas fa-eye"></i></div>
                        <div class="stat-info">
                            <span class="stat-number" id="review-tasks">0</span>
                            <span class="stat-label">ูููุฑุงุฌุนุฉ</span>
                        </div>
                    </div>
                    <div class="stat-card stat-done">
                        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="stat-info">
                            <span class="stat-number" id="completed-tasks">0</span>
                            <span class="stat-label">ููุชููุฉ</span>
                        </div>
                    </div>
                </div>
                
                <!-- ุงูุชูุฏู ุงูุฅุฌูุงูู -->
                <div class="progress-section">
                    <h3><i class="fas fa-chart-line"></i> ุชูุฏู ุงูุญููุฉ</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="overall-progress" style="width: 0%"></div>
                    </div>
                    <span class="progress-text" id="progress-text">0%</span>
                </div>
                
                <!-- ุงูุฅุฌุฑุงุกุงุช ุงูุนุงุฌูุฉ -->
                <div class="urgent-actions">
                    <h3><i class="fas fa-exclamation-triangle"></i> ุชุญุชุงุฌ ุงูุชูุงูู</h3>
                    <div id="urgent-items">
                        <p class="empty-state">ูุง ุชูุฌุฏ ุฅุฌุฑุงุกุงุช ุนุงุฌูุฉ</p>
                    </div>
                </div>
                
                <!-- ุขุฎุฑ ุงููุดุงุทุงุช -->
                <div class="recent-activity">
                    <h3><i class="fas fa-history"></i> ุขุฎุฑ ุงููุดุงุทุงุช</h3>
                    <div id="activity-feed">
                        <p class="empty-state">ูุง ุชูุฌุฏ ูุดุงุทุงุช ุญุฏูุซุฉ</p>
                    </div>
                </div>
            </div>
        `;
        
        this.updateDashboardStats();
    },
    
    updateDashboardStats: function() {
        const total = this.tasks.length;
        const inProgress = this.tasks.filter(t => t.status === 'in_progress').length;
        const review = this.tasks.filter(t => t.status === 'in_review').length;
        const completed = this.tasks.filter(t => t.status === 'completed').length;
        
        document.getElementById('total-tasks').textContent = total;
        document.getElementById('in-progress-tasks').textContent = inProgress;
        document.getElementById('review-tasks').textContent = review;
        document.getElementById('completed-tasks').textContent = completed;
        
        const progress = total > 0 ? Math.round((completed / total) * 100) : 0;
        document.getElementById('overall-progress').style.width = progress + '%';
        document.getElementById('progress-text').textContent = progress + '%';
    },
    
    // ==========================================
    // Tasks - ูุธุงู ุงูููุงู (Kanban)
    // ==========================================
    taskStatuses: [
        { id: 'backlog', label: 'ูุงุฆูุฉ ุงูุงูุชุธุงุฑ', color: '#64748b' },
        { id: 'in_progress', label: 'ููุฏ ุงูุชูููุฐ', color: '#f59e0b' },
        { id: 'in_review', label: 'ูููุฑุงุฌุนุฉ', color: '#8b5cf6' },
        { id: 'approved', label: 'ูุนุชูุฏ', color: '#10b981' },
        { id: 'completed', label: 'ููุชูู', color: '#22c55e' }
    ],
    
    loadTasksView: function() {
        const container = document.getElementById('campaign-content');
        if (!container) return;
        
        let kanbanHTML = `
            <div class="tasks-header">
                <div class="tasks-filters">
                    <select id="phase-filter" onchange="CampaignManager.filterTasks()">
                        <option value="all">ูู ุงููุฑุงุญู</option>
                        <option value="planning">ุงูุชุฎุทูุท</option>
                        <option value="pre_launch">ูุง ูุจู ุงูุฅุทูุงู</option>
                        <option value="launch">ุงูุฅุทูุงู</option>
                        <option value="post_launch">ูุง ุจุนุฏ ุงูุฅุทูุงู</option>
                    </select>
                    <select id="assignee-filter" onchange="CampaignManager.filterTasks()">
                        <option value="all">ูู ุงูุฃุนุถุงุก</option>
                    </select>
                </div>
                <div class="tasks-actions">
                    <button class="btn-ai" onclick="CampaignManager.showAIAssistant()">
                        <i class="fas fa-robot"></i> ูุณุงุนุฏ AI
                    </button>
                    <button class="btn-add" onclick="CampaignManager.showAddTaskModal()">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูููุฉ
                    </button>
                </div>
            </div>
            
            <div class="kanban-board" id="kanban-board">
        `;
        
        this.taskStatuses.forEach(status => {
            const tasksInStatus = this.tasks.filter(t => t.status === status.id);
            kanbanHTML += `
                <div class="kanban-column" data-status="${status.id}">
                    <div class="column-header" style="border-top-color: ${status.color}">
                        <span class="column-title">${status.label}</span>
                        <span class="column-count">${tasksInStatus.length}</span>
                    </div>
                    <div class="column-tasks" id="column-${status.id}" 
                         ondrop="CampaignManager.dropTask(event, '${status.id}')"
                         ondragover="CampaignManager.allowDrop(event)">
                        ${this.renderTaskCards(tasksInStatus)}
                        ${status.id === 'backlog' ? '<button class="add-task-inline" onclick="CampaignManager.showAddTaskModal()"><i class="fas fa-plus"></i> ุฅุถุงูุฉ ูููุฉ</button>' : ''}
                    </div>
                </div>
            `;
        });
        
        kanbanHTML += '</div>';
        container.innerHTML = kanbanHTML;
    },
    
    renderTaskCards: function(tasks) {
        if (tasks.length === 0) return '';
        
        return tasks.map(task => `
            <div class="task-card" draggable="true" 
                 ondragstart="CampaignManager.dragTask(event, '${task.id}')"
                 onclick="CampaignManager.showTaskDetail('${task.id}')">
                <div class="task-priority priority-${task.priority || 'medium'}"></div>
                <h4 class="task-title">${task.title}</h4>
                <p class="task-desc">${(task.description || '').substring(0, 60)}${task.description && task.description.length > 60 ? '...' : ''}</p>
                <div class="task-meta">
                    <span class="task-phase">${this.getPhaseLabel(task.phase)}</span>
                    ${task.dueDate ? `<span class="task-due"><i class="fas fa-calendar"></i> ${this.formatDate(task.dueDate)}</span>` : ''}
                </div>
                <div class="task-footer">
                    ${task.assignedTo ? `<img class="task-avatar" src="${task.assignedTo.avatar || '/static/images/default-avatar.png'}" title="${task.assignedTo.name}">` : ''}
                    <div class="task-stats">
                        ${task.commentsCount ? `<span><i class="fas fa-comment"></i> ${task.commentsCount}</span>` : ''}
                        ${task.attachmentsCount ? `<span><i class="fas fa-paperclip"></i> ${task.attachmentsCount}</span>` : ''}
                    </div>
                </div>
            </div>
        `).join('');
    },
    
    // Drag & Drop
    dragTask: function(event, taskId) {
        event.dataTransfer.setData('taskId', taskId);
    },
    
    allowDrop: function(event) {
        event.preventDefault();
        event.currentTarget.classList.add('drag-over');
    },
    
    dropTask: function(event, newStatus) {
        event.preventDefault();
        event.currentTarget.classList.remove('drag-over');
        
        const taskId = event.dataTransfer.getData('taskId');
        this.updateTaskStatus(taskId, newStatus);
    },
    
    updateTaskStatus: function(taskId, newStatus) {
        const taskIndex = this.tasks.findIndex(t => t.id === taskId);
        if (taskIndex === -1) return;
        
        const oldStatus = this.tasks[taskIndex].status;
        this.tasks[taskIndex].status = newStatus;
        
        // Update Firebase
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('tasks').doc(taskId)
            .update({ 
                status: newStatus,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                this.loadTasksView();
                this.addActivityLog('task_status_changed', {
                    taskId, oldStatus, newStatus
                });
                
                // ุฅุฐุง ุงูุชูู ูููุฑุงุฌุนุฉุ ุฃูุดุฆ ุทูุจ ุงุนุชูุงุฏ
                if (newStatus === 'in_review') {
                    this.createApprovalRequest(taskId);
                }
            })
            .catch(err => console.error('Error updating task:', err));
    },
    
    // ==========================================
    // Add Task Modal
    // ==========================================
    showAddTaskModal: function() {
        const modal = document.getElementById('add-task-modal');
        if (!modal) {
            this.createAddTaskModal();
        }
        document.getElementById('add-task-modal').style.display = 'flex';
    },
    
    createAddTaskModal: function() {
        const modalHTML = `
            <div id="add-task-modal" class="modal-overlay" style="display:none;">
                <div class="modal-content task-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</h3>
                        <button onclick="CampaignManager.closeModal('add-task-modal')" class="modal-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- AI Assistant -->
                        <div class="ai-assistant-box" id="ai-task-assistant">
                            <div class="ai-header">
                                <i class="fas fa-robot"></i>
                                <span>ูุณุงุนุฏ AI - ุงูุชุจ ูุตูุงู ูุตูุฑุงู ูุณุฃุณุงุนุฏู</span>
                            </div>
                            <div class="ai-input">
                                <input type="text" id="ai-prompt" placeholder="ูุซุงู: ุฃุฑูุฏ ูููุฉ ูุชุตููู ุงูุจูุงู ุงูุตุญูู...">
                                <button onclick="CampaignManager.generateTaskWithAI()">
                                    <i class="fas fa-magic"></i>
                                </button>
                            </div>
                            <div id="ai-suggestions" class="ai-suggestions"></div>
                        </div>
                        
                        <form id="add-task-form">
                            <div class="form-group">
                                <label>ุนููุงู ุงููููุฉ *</label>
                                <input type="text" id="task-title" required placeholder="ุนููุงู ูุงุถุญ ููุฎุชุตุฑ">
                            </div>
                            <div class="form-group">
                                <label>ุงููุตู</label>
                                <textarea id="task-description" rows="3" placeholder="ุชูุงุตูู ุงููููุฉ..."></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ุงููุฑุญูุฉ</label>
                                    <select id="task-phase">
                                        <option value="planning">ุงูุชุฎุทูุท</option>
                                        <option value="pre_launch">ูุง ูุจู ุงูุฅุทูุงู</option>
                                        <option value="launch">ุงูุฅุทูุงู</option>
                                        <option value="post_launch">ูุง ุจุนุฏ ุงูุฅุทูุงู</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>ุงูุฃููููุฉ</label>
                                    <select id="task-priority">
                                        <option value="low">ููุฎูุถุฉ</option>
                                        <option value="medium" selected>ูุชูุณุทุฉ</option>
                                        <option value="high">ุนุงููุฉ</option>
                                        <option value="urgent">ุนุงุฌูุฉ</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ุชุงุฑูุฎ ุงูุจุฏุก</label>
                                    <input type="date" id="task-start-date">
                                </div>
                                <div class="form-group">
                                    <label>ุชุงุฑูุฎ ุงูุงุณุชุญูุงู</label>
                                    <input type="date" id="task-due-date">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>ุงููุณุคูู</label>
                                <select id="task-assignee">
                                    <option value="">ุบูุฑ ูุญุฏุฏ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ุชุชุทูุจ ุงุนุชูุงุฏุ</label>
                                <label class="switch">
                                    <input type="checkbox" id="task-requires-approval">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="CampaignManager.closeModal('add-task-modal')" class="btn-cancel">ุฅูุบุงุก</button>
                        <button type="button" onclick="CampaignManager.saveTask()" class="btn-save">
                            <i class="fas fa-save"></i> ุญูุธ ุงููููุฉ
                        </button>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    },
    
    saveTask: function() {
        const title = document.getElementById('task-title').value.trim();
        if (!title) {
            alert('ูุฑุฌู ุฅุฏุฎุงู ุนููุงู ุงููููุฉ');
            return;
        }
        
        const task = {
            title: title,
            description: document.getElementById('task-description').value.trim(),
            phase: document.getElementById('task-phase').value,
            priority: document.getElementById('task-priority').value,
            startDate: document.getElementById('task-start-date').value || null,
            dueDate: document.getElementById('task-due-date').value || null,
            assigneeId: document.getElementById('task-assignee').value || null,
            requiresApproval: document.getElementById('task-requires-approval').checked,
            status: 'backlog',
            createdBy: this.currentUser?.uid || null,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        };
        
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('tasks').add(task)
            .then(docRef => {
                task.id = docRef.id;
                this.tasks.push(task);
                this.closeModal('add-task-modal');
                this.loadTasksView();
                this.addActivityLog('task_created', { taskId: docRef.id, title });
                this.showNotification('ุชู ุฅุถุงูุฉ ุงููููุฉ ุจูุฌุงุญ', 'success');
            })
            .catch(err => {
                console.error('Error adding task:', err);
                this.showNotification('ุญุฏุซ ุฎุทุฃ ูู ุฅุถุงูุฉ ุงููููุฉ', 'error');
            });
    },
    
    // ==========================================
    // AI Assistant
    // ==========================================
    
    showAIAssistant: function() {
        const modal = document.getElementById('ai-assistant-modal');
        if (!modal) {
            this.createAIAssistantModal();
        }
        document.getElementById('ai-assistant-modal').style.display = 'flex';
    },
    
    createAIAssistantModal: function() {
        const modalHTML = `
            <div id="ai-assistant-modal" class="modal-overlay" style="display:none;">
                <div class="modal-content" style="max-width: 750px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 16px 16px 0 0; padding: 25px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-robot" style="font-size: 24px; color: #fff;"></i>
                            </div>
                            <div>
                                <h3 style="margin: 0; color: #fff; font-size: 1.3rem;">ูุณุงุนุฏ AI - ูุดุฑูุน ุฃููู</h3>
                                <p style="margin: 5px 0 0 0; color: rgba(255,255,255,0.8); font-size: 0.85rem;">ููุฏุฑููุจ ุนูู ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ ุงููุงููุฉ</p>
                            </div>
                        </div>
                        <button onclick="CampaignManager.closeModal('ai-assistant-modal')" class="modal-close" style="color: #fff;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body" style="padding: 25px;">
                        <!-- Chat Area -->
                        <div id="ai-chat-area" style="height: 320px; overflow-y: auto; background: rgba(0,0,0,0.2); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                            <div class="ai-message bot" style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <i class="fas fa-robot" style="color: #fff; font-size: 14px;"></i>
                                </div>
                                <div style="background: rgba(139, 92, 246, 0.2); padding: 12px 15px; border-radius: 12px; border-top-right-radius: 4px; max-width: 80%;">
                                    <p style="color: #e2e8f0; margin: 0; font-size: 0.9rem; line-height: 1.6;">
                                        ูุฑุญุจุงู! ๐ ุฃูุง ูุณุงุนุฏ ุญููุฉ <strong>ูุฏููุฉ ุฃููู ุงูููุฌุณุชูุฉ ูุงูุตูุงุนูุฉ</strong>
                                        <br><br>
                                        ุฃุนุฑู ูู ุชูุงุตูู ุงููุดุฑูุน <strong>ูุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ</strong>:
                                        <br><br>
                                        ๐ฏ <strong>ุงูุฃูุฏุงู ุงูุงุชุตุงููุฉ</strong> ู SWOT<br>
                                        ๐ <strong>ุฎุทุฉ ุงูุนูุงูุงุช ุงูุนุงูุฉ</strong> ูุงูุฌุฏูู ุงูุฒููู<br>
                                        ๐ฌ <strong>ุงูุฑุณุงุฆู ุญุณุจ ุงูุดุฑูุญุฉ</strong><br>
                                        โ๏ธ <strong>ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉ</strong> (Red Lines)<br>
                                        ๐ <strong>ูุตุต ุงููุฌุงุญ</strong> ูุงูุดุฑุงูุงุช
                                        <br><br>
                                        ๐ฏ <strong>ุงููุฏู:</strong> ุจูุงุก ุงููุนู ูุจู ุฅุทูุงู Q1 2026
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quick Actions - Row 1: ุงูุฃูุฏุงู ูุงูุงุณุชุฑุงุชูุฌูุฉ -->
                        <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px;">
                            <button onclick="CampaignManager.askAI('ูุง ูู ุงูุฃูุฏุงู ุงูุงุชุตุงููุฉุ')" style="background: rgba(220, 31, 39, 0.2); border: 1px solid rgba(220, 31, 39, 0.3); color: #ff6b6b; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ฏ ุงูุฃูุฏุงู
                            </button>
                            <button onclick="CampaignManager.askAI('ุชุญููู SWOT')" style="background: rgba(220, 31, 39, 0.2); border: 1px solid rgba(220, 31, 39, 0.3); color: #ff6b6b; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ SWOT
                            </button>
                            <button onclick="CampaignManager.askAI('ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ')" style="background: rgba(220, 31, 39, 0.2); border: 1px solid rgba(220, 31, 39, 0.3); color: #ff6b6b; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ ุฎุทุฉ PR
                            </button>
                            <button onclick="CampaignManager.askAI('ุงูุฌุฏูู ุงูุฒููู ููุญููุฉ')" style="background: rgba(220, 31, 39, 0.2); border: 1px solid rgba(220, 31, 39, 0.3); color: #ff6b6b; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ ุงูุฌุฏูู
                            </button>
                        </div>
                        
                        <!-- Quick Actions - Row 2: ุงููุดุฑูุน ูุงููุนูููุงุช -->
                        <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px;">
                            <button onclick="CampaignManager.askAI('ูุง ูู ูุดุฑูุน ุฃูููุ')" style="background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3); color: #6ee7b7; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ญ ุงููุดุฑูุน
                            </button>
                            <button onclick="CampaignManager.askAI('ูู ุงูุฌูููุฑ ุงููุณุชูุฏูุ')" style="background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3); color: #6ee7b7; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ฅ ุงูุฌูููุฑ
                            </button>
                            <button onclick="CampaignManager.askAI('ุงูุฑุณุงุฆู ุญุณุจ ุงูุดุฑูุญุฉ')" style="background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3); color: #6ee7b7; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ฌ ุงูุฑุณุงุฆู
                            </button>
                            <button onclick="CampaignManager.askAI('ูู ุงูููุงูุณููุ')" style="background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3); color: #6ee7b7; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ ุงูููุงูุณูู
                            </button>
                        </div>
                        
                        <!-- Quick Actions - Row 3: ุงููุญุชูู ูุงููุญุงุฐูุฑ -->
                        <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px;">
                            <button onclick="CampaignManager.askAI('ุงูุชุจ ูู ุจูุงู ุตุญูู')" style="background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3); color: #c4b5fd; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ฐ ุจูุงู ุตุญูู
                            </button>
                            <button onclick="CampaignManager.askAI('ุฃููุงุฑ ูุญุชูู ููุญููุฉ')" style="background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3); color: #c4b5fd; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ก ูุญุชูู
                            </button>
                            <button onclick="CampaignManager.askAI('ูุง ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉุ')" style="background: rgba(251, 191, 36, 0.2); border: 1px solid rgba(251, 191, 36, 0.3); color: #fcd34d; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                โ๏ธ ุงููุญุงุฐูุฑ
                            </button>
                            <button onclick="CampaignManager.askAI('ูุตุต ุงููุฌุงุญ ูุงูุดุฑุงูุงุช')" style="background: rgba(251, 191, 36, 0.2); border: 1px solid rgba(251, 191, 36, 0.3); color: #fcd34d; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ ุงูุดุฑุงูุงุช
                            </button>
                        </div>
                        
                        <!-- Quick Actions - Row 4: ุงูููุชุฌุงุช ูุงูููุงู -->
                        <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 15px;">
                            <button onclick="CampaignManager.askAI('ูุง ูู ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉุ')" style="background: rgba(236, 72, 153, 0.2); border: 1px solid rgba(236, 72, 153, 0.3); color: #f9a8d4; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ฆ ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ
                            </button>
                            <button onclick="CampaignManager.askAI('ุฃูุดุฆ ููุงู ูู ุงูููุชุฌุงุช')" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(5, 150, 105, 0.2) 100%); border: 2px solid rgba(16, 185, 129, 0.5); color: #6ee7b7; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem; font-weight: 700;">
                                โจ ุฃูุดุฆ ุงูููุงู ุชููุงุฆูุงู
                            </button>
                            <button onclick="CampaignManager.askAI('ูุง ูู ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉุ')" style="background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.3); color: #93c5fd; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.75rem;">
                                ๐ ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ
                            </button>
                        </div>
                        
                        <!-- Input Area -->
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="ai-chat-input" placeholder="ุงุณุฃููู ุนู ุงูุฃูุฏุงูุ ุฎุทุฉ PRุ SWOTุ ุงููุญุงุฐูุฑ..." 
                                style="flex: 1; padding: 15px; background: rgba(0,0,0,0.3); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; color: #fff; font-size: 0.95rem;"
                                onkeypress="if(event.key==='Enter') CampaignManager.sendAIMessage()">
                            <button onclick="CampaignManager.sendAIMessage()" 
                                style="padding: 15px 25px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border: none; border-radius: 12px; color: #fff; cursor: pointer;">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    },
    
    sendAIMessage: function() {
        const input = document.getElementById('ai-chat-input');
        const message = input.value.trim();
        if (!message) return;
        
        this.askAI(message);
        input.value = '';
    },
    
    askAI: function(question) {
        const chatArea = document.getElementById('ai-chat-area');
        
        // ุฅุถุงูุฉ ุฑุณุงูุฉ ุงููุณุชุฎุฏู
        chatArea.innerHTML += `
            <div class="ai-message user" style="display: flex; gap: 10px; margin-bottom: 15px; flex-direction: row-reverse;">
                <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                    <i class="fas fa-user" style="color: #fff; font-size: 14px;"></i>
                </div>
                <div style="background: rgba(16, 185, 129, 0.2); padding: 12px 15px; border-radius: 12px; border-top-left-radius: 4px; max-width: 80%;">
                    <p style="color: #e2e8f0; margin: 0; font-size: 0.9rem;">${question}</p>
                </div>
            </div>
        `;
        
        // ุฅุถุงูุฉ ูุคุดุฑ ุงูุชุญููู
        chatArea.innerHTML += `
            <div id="ai-typing" class="ai-message bot" style="display: flex; gap: 10px; margin-bottom: 15px;">
                <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                    <i class="fas fa-robot" style="color: #fff; font-size: 14px;"></i>
                </div>
                <div style="background: rgba(139, 92, 246, 0.2); padding: 12px 15px; border-radius: 12px;">
                    <i class="fas fa-circle" style="color: #8b5cf6; font-size: 8px; animation: pulse 1s infinite;"></i>
                    <i class="fas fa-circle" style="color: #8b5cf6; font-size: 8px; animation: pulse 1s infinite 0.2s; margin: 0 3px;"></i>
                    <i class="fas fa-circle" style="color: #8b5cf6; font-size: 8px; animation: pulse 1s infinite 0.4s;"></i>
                </div>
            </div>
        `;
        
        chatArea.scrollTop = chatArea.scrollHeight;
        
        // ูุญุงูุงุฉ ุฑุฏ ุงูู AI
        setTimeout(() => {
            const response = this.getAIResponse(question);
            document.getElementById('ai-typing').remove();
            
            chatArea.innerHTML += `
                <div class="ai-message bot" style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                        <i class="fas fa-robot" style="color: #fff; font-size: 14px;"></i>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.2); padding: 12px 15px; border-radius: 12px; border-top-right-radius: 4px; max-width: 80%;">
                        <p style="color: #e2e8f0; margin: 0; font-size: 0.9rem; line-height: 1.6; white-space: pre-line;">${response}</p>
                    </div>
                </div>
            `;
            chatArea.scrollTop = chatArea.scrollHeight;
        }, 1500);
    },
    
    getAIResponse: function(question) {
        const q = question.toLowerCase();
        const pk = this.projectKnowledge;
        const cp = pk.communicationPlan;
        
        // ==========================================
        // ุงูุฃูุฏุงู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงููุฉ (ูู ุชุงุจ ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ)
        // ==========================================
        if (q.includes('ุฃูุฏุงู') || q.includes('ูุฏู') || q.includes('ุงุณุชุฑุงุชูุฌ') || (q.includes('ุงุชุตุงู') && !q.includes('ูููุงุช'))) {
            return `๐ฏ **ุงูุฃูุฏุงู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงููุฉ ููุดุฑูุน ุฃููู:**
*(ูู ูุณู ุงูุชูุฌู ุงูุงุชุตุงูู - ุชุงุจ ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ)*

${cp.strategicObjectives.map(obj => `
**${obj.number}. ${obj.title}**
${obj.description}
๐ *ูุคุดุฑ ุงูููุงุณ:* ${obj.kpi}
`).join('\n')}

---
**ุงูุฃูุฏุงู ุงูุชุดุบูููุฉ:**
โข ${cp.operationalObjectives.primary}

**ุงููุณุชูุฏูุงุช:**
${cp.operationalObjectives.targets.map((t, i) => `${i+1}. ${t}`).join('\n')}

**ูุคุดุฑุงุช ุงูุฃุฏุงุก (KPIs):**
${cp.operationalObjectives.kpis.map(k => '๐ ' + k).join('\n')}

๐ **ุชุงุฑูุฎ ุงูุฅุทูุงู ุงููุณุชูุฏู:** ${cp.timeline.launchDate}`;
        }
        
        // ==========================================
        // ุชุญููู SWOT (ุฌุฏูุฏ!)
        // ==========================================
        if (q.includes('swot') || q.includes('ุณููุช') || q.includes('ุชุญููู ุงููููู') || (q.includes('ููุงุท') && (q.includes('ููุฉ') || q.includes('ุถุนู')))) {
            return `๐ **ุชุญููู SWOT ุงูุงุชุตุงูู ููุดุฑูุน ุฃููู:**

๐ช **ููุงุท ุงูููุฉ (Strengths):**
${cp.swot.strengths.map(s => 'โ ' + s).join('\n')}

โ๏ธ **ููุงุท ุงูุถุนู (Weaknesses):**
${cp.swot.weaknesses.map(w => 'โก ' + w).join('\n')}

๐ **ุงููุฑุต (Opportunities):**
${cp.swot.opportunities.map(o => '๐ก ' + o).join('\n')}

๐ก๏ธ **ุงูุชูุฏูุฏุงุช (Threats):**
${cp.swot.threats.map(t => 'โ๏ธ ' + t).join('\n')}`;
        }
        
        // ==========================================
        // ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ (ุฌุฏูุฏ!)
        // ==========================================
        if (q.includes('ุฎุทุฉ') || q.includes('ุนูุงูุงุช ุนุงูุฉ') || q.includes('pr') || q.includes('ุฎุทุฉ ุงุชุตุงู')) {
            return `๐ **ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ ูุฃููู:**

**ุงูุฃูุฏุงู ุงูุงุณุชุฑุงุชูุฌูุฉ:**
${cp.strategicObjectives.map(obj => `${obj.number}. ${obj.title}`).join('\n')}

**ุงููุฑุงุญู ุงูุฒูููุฉ:**
${cp.timeline.phases.map(p => `๐ **${p.name}** (${p.duration})
   ${p.activities}`).join('\n\n')}

**ุชุงุฑูุฎ ุงูุฅุทูุงู:** ${cp.timeline.launchDate}
**ูุชุฑุฉ ูุง ูุจู ุงูุฅุทูุงู:** ${cp.timeline.preLaunchPhase}

**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
${pk.communicationStrategy.channels.filter(c => c.priority === 'ุฃุณุงุณู').map(c => 'โข ' + c.name + ' - ' + c.reason).join('\n')}

๐ ุฑุงุฌุน ุชุงุจ "ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ" ููุชูุงุตูู ุงููุงููุฉ.`;
        }
        
        // ==========================================
        // ุงูุฑุณุงุฆู ุญุณุจ ุงูุดุฑูุญุฉ (ุฌุฏูุฏ!)
        // ==========================================
        if (q.includes('ุดุฑูุญุฉ') || q.includes('ุดุฑุงุฆุญ') || q.includes('segment') || (q.includes('ุฑุณุงุฆู') && q.includes('ูุฎุชูู'))) {
            const segments = cp.messagesBySegment;
            return `๐ฏ **ุงูุฑุณุงุฆู ุงููุฎุตุตุฉ ููู ุดุฑูุญุฉ:**

**1. ${segments.logistics3PL.segment}:**
๐ฌ "${segments.logistics3PL.mainMessage}"
๐ ููุงุท ุงูุฅุซุจุงุช:
${segments.logistics3PL.proofPoints.map(p => '   โข ' + p).join('\n')}

**2. ${segments.ecommerce.segment}:**
๐ฌ "${segments.ecommerce.mainMessage}"
๐ ููุงุท ุงูุฅุซุจุงุช:
${segments.ecommerce.proofPoints.map(p => '   โข ' + p).join('\n')}

**3. ${segments.manufacturers.segment}:**
๐ฌ "${segments.manufacturers.mainMessage}"
๐ ููุงุท ุงูุฅุซุจุงุช:
${segments.manufacturers.proofPoints.map(p => '   โข ' + p).join('\n')}

๐ก ูู ุดุฑูุญุฉ ุชุญุชุงุฌ ุฑุณุงูุฉ ูุฎุชููุฉ!`;
        }
        
        // ==========================================
        // ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉ (Red Lines) - ุฌุฏูุฏ!
        // ==========================================
        if (q.includes('ูุญุงุฐูุฑ') || q.includes('ููููุน') || q.includes('ุชุฌูุจ') || q.includes('red line') || q.includes('ุญุฐุฑ')) {
            return `๐ซ **ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉ (Red Lines):**

${cp.redLines.map((r, i) => `${i+1}. โ๏ธ ${r}`).join('\n')}

๐ก **ูุตูุญุฉ ูููุฉ:**
โข ุฃู ูุนูููุงุช ุนู ุงูุฃุณุนุงุฑ โ ููุงููุฉ ุงูุฅุฏุงุฑุฉ ุฃููุงู
โข ุฃู ุฅุนูุงู ุนู ุดุฑุงูุฉ โ ุจุนุฏ ุงูุชูููุน ุงูุฑุณูู ููุท
โข ุงูููุงุฑูุงุช โ ุฑูุฒ ุนูู ูููุฒุงุช ุฃูููุ ูุง ุนูู ุนููุจ ุงูุขุฎุฑูู`;
        }
        
        // ==========================================
        // ูุตุต ุงููุฌุงุญ (ุฌุฏูุฏ!)
        // ==========================================
        if (q.includes('ูุตุต ูุฌุงุญ') || q.includes('ุดุฑุงูุงุช') || q.includes('ุนููุงุก') || q.includes('case study')) {
            return `๐ **ูุตุต ุงููุฌุงุญ ูุงูุดุฑุงูุงุช ุงููููุนุฉ:**

${cp.successStories.map((s, i) => `**${i+1}. ${s.client}:**
   ๐ ${s.story}`).join('\n\n')}

๐ก **ููู ุชุณุชุฎุฏู ูุฐู ุงููุตุต:**
โข ูู ุงูุจูุงูุงุช ุงูุตุญููุฉ: ุงูุชุจุงุณุงุช ูู ุงูุดุฑูุงุก
โข ูู ุงูุณูุดูุงู ููุฏูุง: ููุฏูููุงุช ุดูุงุฏุงุช
โข ูู ุงูุนุฑูุถ ุงูุชูุฏูููุฉ: ุฏููู ุนูู ุงููุฌุงุญ
โข ูู ุงููุญุชูู: ุฏุฑุงุณุงุช ุญุงูุฉ ุชูุตูููุฉ

โ๏ธ **ููุงุญุธุฉ:** ุชุฃูุฏ ูู ููุงููุฉ ุงูุดุฑูู ูุจู ูุดุฑ ุฃู ูุญุชูู ุนูู.`;
        }
        
        // ==========================================
        // ุงูุฌุฏูู ุงูุฒููู (ุฌุฏูุฏ!)
        // ==========================================
        if (q.includes('ุฌุฏูู') || q.includes('timeline') || q.includes('ุชูููุช') || q.includes('ูุชู ูุจุฏุฃ')) {
            return `๐ **ุงูุฌุฏูู ุงูุฒููู ูุฎุทุฉ ุงูุงุชุตุงู:**

**ุชุงุฑูุฎ ุงูุฅุทูุงู ุงููุณุชูุฏู:** ${cp.timeline.launchDate}
**ูุชุฑุฉ ุงูุชุญุถูุฑ:** ${cp.timeline.preLaunchPhase}

**ุงููุฑุงุญู ุงูุชูุตูููุฉ:**

${cp.timeline.phases.map((p, i) => `**ุงููุฑุญูุฉ ${i+1}: ${p.name}**
โฐ ุงููุฏุฉ: ${p.duration}
๐ ุงูุฃูุดุทุฉ: ${p.activities}`).join('\n\n')}

**ูุฑุงุญู ุชุทููุฑ ุงููุดุฑูุน:**
${pk.phases.map((p, i) => `${i+1}. ${p.name} (${p.status}) - ${p.dates}`).join('\n')}`;
        }
        
        // ==========================================
        // ูุนูููุงุช ุงููุดุฑูุน ุงูุฃุณุงุณูุฉ
        // ==========================================
        if (q.includes('ุงููุดุฑูุน') && (q.includes('ูุง ูู') || q.includes('ุนู') || q.includes('ูุนูููุงุช') || q.includes('ูุตู'))) {
            return `๐ญ **ูุดุฑูุน ุฃููู ุงูููุฌุณุชูุฉ ูุงูุตูุงุนูุฉ**

**ุงููููุน:** ${pk.basicInfo.location}
๐ ${pk.basicInfo.address}

**ุงููุณุงุญุฉ ุงูุฅุฌูุงููุฉ:** ${pk.basicInfo.totalArea}
**ุงููุณุงุญุฉ ุงููุงุจูุฉ ููุชุฃุฌูุฑ:** ${pk.basicInfo.leasableArea}
**ุฅุฌูุงูู ุงูุงุณุชุซูุงุฑ:** ${pk.basicInfo.totalInvestment}

**ุงูุฑุคูุฉ:** ${pk.vision}

**ุงูุฑุณุงูุฉ:** ${pk.mission}

๐ฏ ูุณุชูุฏู ุงููุดุฑูุน ูุทุงุนุงุช:
${pk.targetSectors.map(s => 'โข ' + s).join('\n')}`;
        }
        
        // ==========================================
        // ุงููููุฒุงุช ุงูุชูุงูุณูุฉ
        // ==========================================
        if (q.includes('ูููุฒ') || q.includes('ุชูุงูุณ') || q.includes('ููุงุฐุง') || q.includes('ุฃูุถู')) {
            return `โญ **ุงููููุฒุงุช ุงูุชูุงูุณูุฉ ููุดุฑูุน ุฃููู:**

${pk.competitiveAdvantages.map((a, i) => `${i+1}. ${a}`).join('\n')}

๐ก **ููุทุฉ ุงูุจูุน ุงููุฑูุฏุฉ (USP):**
ุฃูุฑุจ ูุฏููุฉ ููุฌุณุชูุฉ ููุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏููู - 15 ูู ููุท!

๐ฏ **ุงูุฑุณุงูุฉ ุงูุฑุฆูุณูุฉ:**
"${pk.communicationStrategy.mainMessage}"`;
        }
        
        // ==========================================
        // ุงูููุงูุณูู
        // ==========================================
        // ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ (Benchmarks)
        // ==========================================
        if (q.includes('ููุงุฑูุงุช ูุนูุงุฑูุฉ') || q.includes('benchmark') || q.includes('ููุงุฐุฌ ุนุงูููุฉ') || q.includes('ุฏุฑุงุณุฉ ูุฑุฌุนูุฉ')) {
            const bm = pk.benchmarks;
            return `๐ **ุฏุฑุงุณุฉ ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ ููุดุฑูุน ุฃููู:**

**ูุทุงู ุงูุฏุฑุงุณุฉ:**
โข ุนุฏุฏ ุงูููุงูุงุช: ${bm.scope.totalEntities} ููุงู
โข ุนุฏุฏ ุงูุฏูู: ${bm.scope.totalCountries} ุฏูู
โข ุงูููุงุฐุฌ ุงููุฏุฑูุณุฉ: ${bm.scope.modelTypes} ููุงุฐุฌ (ุนุงูููุ ุฎููุฌูุ ุฅูููููุ ูุญูู)

**ุฃูุฏุงู ุงูุฏุฑุงุณุฉ:**
${bm.studyObjectives.map((obj, i) => `${i+1}. ${obj}`).join('\n')}

**ุงูููุงูุงุช ุงูุนุงูููุฉ:**
${bm.entities.global.map(e => `โข **${e.name}** (${e.country}): ${e.strategy}`).join('\n')}

**ุงูููุงุฐุฌ ุงูุฎููุฌูุฉ:**
${bm.entities.gulf.map(e => `โข **${e.name}** (${e.country}): ${e.strategy}`).join('\n')}

๐ก **ุงูุฎูุงุตุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ:**
${bm.strategicConclusion}

๐ ุงุณุฃููู ุนู ุฃู ูููุฐุฌ ุจุงูุชุญุฏูุฏ (Prologis, GLP, DIC, KEZAD, ุฅูุฎ)`;
        }
        
        // ==========================================
        // ูููุฐุฌ Prologis
        // ==========================================
        if (q.includes('prologis') || q.includes('ุจุฑูููุฌูุณ')) {
            const prologis = pk.benchmarks.entities.global.find(e => e.name === 'Prologis');
            const insight = pk.benchmarks.modelInsights.global;
            return `๐ข **ูููุฐุฌ Prologis - ุงูุฑุงุฆุฏ ุงูุนุงููู:**

**ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ:**
โข ุงูุฏููุฉ: ${prologis.country}
โข ุงูุงุณุชุฑุงุชูุฌูุฉ: ${prologis.strategy}

**ุงูุฑุคู ุงููุณุชูุงุฏุฉ:**
${insight.insights.map(i => 'โข ' + i).join('\n')}

**ุงูุชูุตูุงุช ููุดุฑูุน ุฃููู:**
${insight.recommendations.map(r => 'โข ' + r).join('\n')}

๐ก Prologis ูุฑูุฒ ุนูู ุงูุชูุงูู ุงูุชููู ูุฎุฏูุงุช ุงููููุฉ ุงููุถุงูุฉ - ููุฐุง ูุง ูุฌุจ ุฃู ูุทุจูู ูู ุฃููู!`;
        }
        
        // ==========================================
        // ูููุฐุฌ GLP
        // ==========================================
        if (q.includes('glp') || q.includes('ุฌู ุงู ุจู')) {
            const glp = pk.benchmarks.entities.global.find(e => e.name === 'GLP');
            return `๐ข **ูููุฐุฌ GLP - ุงูุนููุงู ุงูุขุณููู:**

**ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ:**
โข ุงูุฏููุฉ: ${glp.country}
โข ุงูุงุณุชุฑุงุชูุฌูุฉ: ${glp.strategy}

**ูุง ูููุฒ GLP:**
โข ูููุฐุฌ Fund Management (ุฅุฏุงุฑุฉ ุงูุตูุงุฏูู)
โข ุชุทููุฑ ูุณุชุฏุงู ูุน ุชุฑููุฒ ุนูู ESG
โข ูุฑููุฉ ุนุงููุฉ ูู ุงูุชุตููู ูุงูุชูููุฐ
โข ุดุฑุงูุงุช ุงุณุชุฑุงุชูุฌูุฉ ุทูููุฉ ุงูุฃูุฏ

**ุงูุฏุฑูุณ ูุฃููู:**
1. ุชุจูู ูููุฐุฌ ุงูุดุฑุงูุฉ ุจุฏูุงู ูู ุงูุจูุน ุงููุจุงุดุฑ ููุท
2. ุงูุชุฑููุฒ ุนูู ุงูุงุณุชุฏุงูุฉ ูููุฒุฉ ุชูุงูุณูุฉ
3. ุจูุงุก ุนูุงูุงุช ุทูููุฉ ุงูุฃูุฏ ูุน ุงููุณุชุซูุฑูู`;
        }
        
        // ==========================================
        // ุงููููุฐุฌ ุงูุฎููุฌู (DIC, KEZAD, KAEC)
        // ==========================================
        if (q.includes('dic') || q.includes('ุฏุจู ููุงุณุชุซูุงุฑ') || q.includes('kezad') || q.includes('ููุฒุงุฏ') || q.includes('kaec') || q.includes('ูุฏููุฉ ุงูููู ุนุจุฏุงููู') || q.includes('ูููุฐุฌ ุฎููุฌู')) {
            const gulf = pk.benchmarks.entities.gulf;
            const gulfInsight = pk.benchmarks.modelInsights.gulf;
            return `๐ด **ุงูููุงุฐุฌ ุงูุฎููุฌูุฉ:**

${gulf.map(e => `**${e.name}** (${e.country}):
   ๐ ${e.strategy}`).join('\n\n')}

**ุฑุคู ุงููููุฐุฌ ุงูุฎููุฌู:**
${gulfInsight.insights.map(i => 'โข ' + i).join('\n')}

**ุงูุชูุตูุงุช ูุฃููู ูู ุงููููุฐุฌ ุงูุฎููุฌู:**
${gulfInsight.recommendations.map(r => 'โข ' + r).join('\n')}

๐ก ุงูููุงุฐุฌ ุงูุฎููุฌูุฉ ุชุนุชูุฏ ุนูู ุงูุฏุนู ุงูุญูููู ูุงูุญูุงูุฒ - ูุฌุจ ุฃู ูุฑูุฒ ุนูู ุงูููุงุกุฉ ุงูุชุดุบูููุฉ ูุจุฏูู!`;
        }
        
        // ==========================================
        // ุชุญููู ุงููุฌูุงุช (Gap Analysis)
        // ==========================================
        if (q.includes('ูุฌูุงุช') || q.includes('gap') || q.includes('ุชุญููู ุงููุฌูุฉ')) {
            const gaps = cp.gapAnalysis;
            return `๐ **ุชุญููู ุงููุฌูุงุช ุงูุงุชุตุงููุฉ ููุดุฑูุน ุฃููู:**

${gaps.map((gap, i) => `**${i+1}. ${gap.gap}**
   ๐ ุงููุถุน ุงูุญุงูู: ${gap.currentState}
   โญ ุฃูุถู ุงูููุงุฑุณุงุช: ${gap.bestPractice}`).join('\n\n')}

**ุงูุฃููููุงุช ุงูููุชุฑุญุฉ:**
1. ๐จ ุนุงุฌู: ุจูุงุก ุงููุนู ุจุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ
2. โ๏ธ ููู: ุฅูุชุงุฌ ูุญุชูู ุจุตุฑู ุงุญุชุฑุงูู
3. ๐ ูุชูุณุท: ุชุทููุฑ ุฑุณุงุฆู ุชูุงูุฒ ูุงุถุญุฉ

๐ก ุณุฏ ูุฐู ุงููุฌูุงุช ุณูุถุน ุฃููู ูู ูููุน ุชูุงูุณู ููู!`;
        }
        
        // ==========================================
        // ูุตูููุฉ ุงูุฌูููุฑ ุงููุณุชูุฏู (Target Audience Matrix)
        // ==========================================
        if (q.includes('ูุตูููุฉ') || q.includes('ุดุฑุงุฆุญ') || q.includes('matrix') || q.includes('ุฌูููุฑ ุฑุฆูุณู') || q.includes('ุฌูููุฑ ุซุงููู')) {
            const primary = pk.targetAudienceMatrix.primary;
            const secondary = pk.targetAudienceMatrix.secondary;
            return `๐ฅ **ูุตูููุฉ ุงูุฌูููุฑ ุงููุณุชูุฏู ููุดุฑูุน ุฃููู:**

**๐ ุงูุฌูููุฑ ุงูุฑุฆูุณู:**
${primary.map((p, i) => `
**${i+1}. ${p.segment}:**
   ๐ฏ ูุง ูุฑูุฏูู: ${p.wants}
   ๐ผ ูุง ูุฑูุฏู ูููู: ${p.weWant}
   ๐ฌ ุงูุฑุณุงูุฉ: ${p.message}
   ๐ฑ ุงููููุงุช: ${p.channels}
   ๐จ ุงููุจุฑุฉ: ${p.tone}`).join('\n')}

**๐ ุงูุฌูููุฑ ุงูุซุงููู:**
${secondary.map(s => `โข ${s.segment}: ${s.role}`).join('\n')}

๐ก ุฑูุฒ ุฌููุฏู ุนูู ุงูุฌูููุฑ ุงูุฑุฆูุณู ุฃููุงู!`;
        }
        
        // ==========================================
        // ุฑุคู ุงูููุงุฐุฌ ุงููุฎุชููุฉ
        // ==========================================
        if (q.includes('ุฑุคู') || q.includes('insights') || q.includes('ุฏุฑูุณ ูุณุชูุงุฏุฉ')) {
            const models = pk.benchmarks.modelInsights;
            return `๐ก **ุงูุฑุคู ูุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ ูู ุงูููุงุฐุฌ ุงูุฃุฑุจุนุฉ:**

**๐ ุงููููุฐุฌ ุงูุนุงููู (Prologis, GLP):**
${models.global.recommendations.map(r => 'โข ' + r).join('\n')}

**๐ด ุงููููุฐุฌ ุงูุฎููุฌู (DIC, KEZAD, KAEC):**
${models.gulf.recommendations.map(r => 'โข ' + r).join('\n')}

**๐ ุงููููุฐุฌ ุงูุฅููููู (Tanger Med, Orascom):**
${models.regional.recommendations.map(r => 'โข ' + r).join('\n')}

**๐ ุงููููุฐุฌ ุงููุญูู (Agility, ูุงุฏู ุณุญุงุจ):**
${models.local.recommendations.map(r => 'โข ' + r).join('\n')}

**ุงูุฎูุงุตุฉ ูุฃููู:**
${pk.benchmarks.strategicConclusion}`;
        }
        
        // ==========================================
        // ุงูููุงูุณูู ูุงูููุงุฑูุงุช
        // ==========================================
        if (q.includes('ููุงูุณ') || q.includes('ุณูู') || q.includes('ููุงุฑู')) {
            return `๐ **ุชุญููู ุงูููุงูุณูู ููุดุฑูุน ุฃููู:**

**ุงูููุงูุณูู ุงููุญูููู:**
${pk.competitors.local}

**ุงูููุงูุณูู ุงูุฅููููููู:**
${pk.competitors.regional}

**ุงูููุงูุณูู ุงูุนุงููููู:**
${pk.competitors.global}

๐ก **ููุงุท ุงูุชููู ุนูู ุงูููุงูุณูู:**
1. ูููุน ุงุณุชุฑุงุชูุฌู ูุฑุจ ุงููุทุงุฑ ุงูุฏููู
2. ุฃุณุนุงุฑ ุชุฃุฌูุฑ ุชูุงูุณูุฉ (5-15 ุฏููุงุฑ/ูยฒ ุดูุฑูุงู)
3. ุฎุฏูุงุช ูุชูุงููุฉ ูู ูููุน ูุงุญุฏ
4. ุจููุฉ ุชุญุชูุฉ ุญุฏูุซุฉ ุจูุนุงููุฑ ุนุงูููุฉ

๐ ุฑุงุฌุน ุชุงุจ "ุงูููุงุฑูุงุช ุงููุนูุงุฑูุฉ" ููุชุญููู ุงูุชูุตููู.`;
        }
        
        // ==========================================
        // ุงูุฌูููุฑ ุงููุณุชูุฏู
        // ==========================================
        if (q.includes('ุฌูููุฑ') || q.includes('ุนููู') || q.includes('ูุณุชูุฏู') || q.includes('ูู ูุณุชูุฏู')) {
            const primary = pk.targetAudienceMatrix.primary;
            const secondary = pk.targetAudienceMatrix.secondary;
            return `๐ฅ **ุงูุฌูููุฑ ุงููุณุชูุฏู ููุดุฑูุน ุฃููู:**

**๐ ุงูุดุฑุงุฆุญ ุงูุฑุฆูุณูุฉ (3 ุดุฑุงุฆุญ):**
${primary.map((p, i) => `**${i+1}. ${p.segment}:**
   ๐ฏ ูุง ูุฑูุฏูู: ${p.wants}
   ๐ฌ ุงูุฑุณุงูุฉ ุงูููุงุณุจุฉ: ${p.message}
   ๐ฑ ุงููููุงุช: ${p.channels}`).join('\n\n')}

**๐ ุงูุฌูููุฑ ุงูุซุงููู:**
${secondary.map(s => `โข ${s.segment}: ${s.role}`).join('\n')}

**ุงูุชุญุฏูุงุช ุงูุชู ููุงุฌููุง ุฌูููุฑูุง:**
${pk.targetAudience.challenges.map(c => 'โข ' + c).join('\n')}

๐ก **ูุตูุญุฉ:** ุฎุตุต ุฑุณุงูุชู ููู ุดุฑูุญุฉ - ูุงููุณุชุซูุฑ ููุชู ุจุงูุนุงุฆุฏุ ูุงูุดุฑูุฉ ุงูุตูุงุนูุฉ ุชูุชู ุจุงูุชูููุฉ ูุงููููุน!

๐ ุงุณุฃููู "ูุตูููุฉ ุงูุฌูููุฑ" ููุชูุงุตูู ุงููุงููุฉ.`;
        }
        
        // ==========================================
        // ูุฑุงุญู ุงููุดุฑูุน
        // ==========================================
        if (q.includes('ูุฑุญู') || q.includes('ุฌุฏูู') || q.includes('ุชุงุฑูุฎ') || q.includes('ูุชู') || q.includes('timeline')) {
            return `๐ **ูุฑุงุญู ุชุทููุฑ ูุดุฑูุน ุฃููู:**

${pk.phases.map((p, i) => `**ุงููุฑุญูุฉ ${i+1}: ${p.name}**
   ๐ ุงูุญุงูุฉ: ${p.status}
   โณ ุงูุชูุฏู: ${p.progress}%
   ๐ ุงููุชุฑุฉ: ${p.dates}`).join('\n\n')}

**ุชุงุฑูุฎ ุงูุฅุทูุงู:** ${pk.basicInfo.startDate}
**ุงูุงูุชูุงุก ุงููุชููุน:** ${pk.basicInfo.expectedCompletion}`;
        }
        
        // ==========================================
        // ูููุงุช ุงูุชูุงุตู - ููุฎุตุตุฉ ูุฃููู
        // ==========================================
        if (q.includes('ูููุงุช') || q.includes('ุชูุงุตู') || q.includes('ููุตุงุช') || q.includes('ุณูุดูุงู')) {
            return `๐ฑ **ูููุงุช ุงูุชูุงุตู ุงููููุตู ุจูุง ููุดุฑูุน ุฃููู:**

${pk.communicationStrategy.channels.map(c => `**${c.name}** (${c.priority})
   ๐ ุงูุณุจุจ: ${c.reason}`).join('\n\n')}

๐ก **ุงุณุชุฑุงุชูุฌูุฉ ุงููููุงุช:**
โข ุงูุชุฑููุฒ ุนูู LinkedIn ูููุตูู ูุตูุงุน ุงููุฑุงุฑ B2B
โข ุงููุนุงุฑุถ ุงููุชุฎุตุตุฉ ููุชูุงุตู ุงููุจุงุดุฑ
โข ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูููุงุฆู ุงูุดุฑูุงุช ุงููุณุชูุฏูุฉ

๐ฏ ุฌูููุฑูุง ุฑุฌุงู ุฃุนูุงูุ ุฑูุฒ ุนูู ุงูููุตุงุช ุงูููููุฉ!`;
        }
        
        // ==========================================
        // ุงูุจูุงู ุงูุตุญูู - ููุฎุตุต ูุฃููู
        // ==========================================
        if (q.includes('ุจูุงู') || q.includes('ุตุญูู')) {
            return `๐ฐ **ูููุฐุฌ ุจูุงู ุตุญูู ููุดุฑูุน ุฃููู:**

**ูููุดุฑ ุงูููุฑู**
ุงูุชุงุฑูุฎ: [ุฃุฏุฎู ุงูุชุงุฑูุฎ]

**ููุจูุฒ ุงูุนูุงุฑูุฉ ุชุทูู "ุฃููู" - ุงููุฏููุฉ ุงูููุฌุณุชูุฉ ุงูุฃูุฑุจ ููุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏููู**

**ุนููุงูุ ุงูุฃุฑุฏู** - ุฃุนููุช ุดุฑูุฉ ููุจูุฒ ุงูุนูุงุฑูุฉุ ุงูุฑุงุฆุฏุฉ ูู ุงูุชุทููุฑ ุงูุนูุงุฑู ููุฐ 2008ุ ุนู ุฅุทูุงู ูุดุฑูุนูุง ุงูุงุณุชุฑุงุชูุฌู "ูุฏููุฉ ุฃููู ุงูููุฌุณุชูุฉ ูุงูุตูุงุนูุฉ" ูู ููุทูุฉ ุงููููุฑ.

ููุน ุงููุดุฑูุน ุนูู ุจูุนุฏ 15 ูู ููุท ูู ูุทุงุฑ ุงููููุฉ ุนููุงุก ุงูุฏูููุ ูููุชุฏ ุนูู ูุณุงุญุฉ ${pk.basicInfo.totalArea}ุ ููุดูู ุจูุงุจุฉ ููุฌุณุชูุฉ ุฅูููููุฉ ุจูุนุงููุฑ ุนุงูููุฉ.

**ุฃุจุฑุฒ ุงููููุฒุงุช:**
โข ุฃูุฑุจ ูุฏููุฉ ููุฌุณุชูุฉ ูููุทุงุฑ ุงูุฏููู
โข ูุณุงุญุงุช ูุฑูุฉ ูู 500 ุฅูู 50,000 ูยฒ
โข ุฎุฏูุงุช ุฌูุฑููุฉ ูููุฌุณุชูุฉ ูุชูุงููุฉ
โข ุจููุฉ ุชุญุชูุฉ ุจููุงุตูุงุช ุนุงูููุฉ

**ุชุตุฑูุญ:**
ุตุฑุญ [ุงุณู ุงููุชุญุฏุซ]ุ [ุงูููุตุจ] ูู ููุจูุฒ ุงูุนูุงุฑูุฉ:
"${pk.communicationStrategy.mainMessage} - ููุฏู ูุชูููู ุงูุดุฑูุงุช ูู ุงูููู ูุงูุชูุณุน ุฅูููููุงู."

**ููุชูุงุตู:**
๐ง ${pk.contact.salesEmail}
๐ ${pk.contact.phone}

---
ูู ุชุฑูุฏ ุชุนุฏูู ุฃู ุฌุฒุกุ`;
        }
        
        // ==========================================
        // ุฃููุงุฑ ุงููุญุชูู - ูุฎุตุตุฉ ูุฃููู
        // ==========================================
        if (q.includes('ุฃููุงุฑ') || q.includes('ูุญุชูู') || q.includes('content')) {
            return `๐ก **ุฃููุงุฑ ูุญุชูู ููุฎุตุตุฉ ููุดุฑูุน ุฃููู:**

${pk.contentPlan.types.map(t => `**${t.type}:**
   ๐ ${t.description}
   ๐ ุงูุชูุฑุงุฑ: ${t.frequency}`).join('\n\n')}

**ุฃููุงุฑ ุฅุถุงููุฉ ููุณูุดูุงู ููุฏูุง:**

๐น **ููุฏูู:**
โข "15 ูู ุชูุตูู ุนู ุงูุนุงูู" - ููุฏูู ุงููููุน ุงูุงุณุชุฑุงุชูุฌู
โข ุฌููุฉ ุฏุฑูู ูููููุน ูุน ุฅุธูุงุฑ ุงููุฑุจ ูู ุงููุทุงุฑ
โข ููุงุจูุฉ ูุน ูุฏูุฑ ุงููุดุฑูุน

๐ **ุฅูููุฌุฑุงููู:**
โข ููุงุฑูุฉ ุฃุณุนุงุฑ ุงูุชุฎุฒูู: ุฃููู vs ุงูููุงูุณูู
โข ุฎุฑูุทุฉ ุงููุตูู ููุฃุณูุงู ุงูุฅูููููุฉ
โข ุฅุญุตุงุฆูุงุช ุงููุทุงุน ุงูููุฌุณุชู ูู ุงูุฃุฑุฏู

๐ **ููุงูุงุช:**
โข "ููุงุฐุง ุงูุฃุฑุฏู ูุฑูุฒ ููุฌุณุชู ุฅูููููุ"
โข "ููู ุชุฎุชุงุฑ ูููุน ูุณุชูุฏุนูุ"
โข "ุงุชุฌุงูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูู ุงูููุทูุฉ"`;
        }
        
        // ==========================================
        // ุงูููุงู ูุงูุชุฎุทูุท - ูุฎุตุตุฉ ูุฃููู
        // ==========================================
        if (q.includes('ููุงู') || q.includes('ุชุญุถูุฑ') || q.includes('ุชุฎุทูุท') || q.includes('ุฎุทุฉ')) {
            return `๐ **ุงูููุงู ุงูุชุญุถูุฑูุฉ ูุญููุฉ ุฃููู:**

**ุงููุฑุญูุฉ 1 - ุงูุฅุนุฏุงุฏ (ุงูุดูุฑ ุงูุฃูู):**
1. โ ุชุญุฏูุฏ ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉ ููุญููุฉ
2. โก ุฅุนุฏุงุฏ ููู ุงููุดุฑูุน ุงูุชูุตููู (Fact Sheet)
3. โก ุชุตููู ุงููููุฉ ุงูุจุตุฑูุฉ ููุญููุฉ
4. โก ุฅูุดุงุก ูุงุฆูุฉ ุงูุดุฑูุงุช ุงููุณุชูุฏูุฉ

**ุงููุฑุญูุฉ 2 - ุงููุญุชูู (ุงูุดูุฑ ุงูุซุงูู):**
5. โก ูุชุงุจุฉ ุงูุจูุงู ุงูุตุญูู ููุฅุทูุงู
6. โก ุฅูุชุงุฌ ุงูููุฏูู ุงูุชุนุฑููู
7. โก ุชุตููู ุงูุจุฑูุดูุฑ ุงูุฑููู
8. โก ุฅุนุฏุงุฏ ุนุฑุถ ุชูุฏููู ูููุณุชุซูุฑูู

**ุงููุฑุญูุฉ 3 - ุงูุฅุทูุงู (ุงูุดูุฑ ุงูุซุงูุซ):**
9. โก ุฅุทูุงู ุตูุญุฉ ุงููุดุฑูุน ุนูู ุงููููุน
10. โก ุญููุฉ LinkedIn ุงููุณุชูุฏูุฉ
11. โก ุงูุชูุงุตู ูุน ุงูุตุญูููู ุงูุงูุชุตุงุฏููู
12. โก ุฌุฏููุฉ ุฒูุงุฑุงุช ุงููููุน

**ุงูุฌูููุฑ ุงููุณุชูุฏู:**
${pk.targetAudience.primary.slice(0, 3).map(p => 'โข ' + p).join('\n')}

ูู ุชุฑูุฏ ุฅุถุงูุฉ ุฃู ูู ูุฐู ุงูููุงู ูููุงูุจุงูุ`;
        }
        
        // ==========================================
        // ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉ
        // ==========================================
        if (q.includes('ุฑุณุงู') || q.includes('message') || q.includes('ูุงุฐุง ูููู') || q.includes('slogan')) {
            return `๐ฌ **ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉ ููุดุฑูุน ุฃููู:**

๐ฏ **ุงูุฑุณุงูุฉ ุงูุฃุณุงุณูุฉ:**
"${pk.communicationStrategy.mainMessage}"

**ุงูุฑุณุงุฆู ุงูุฏุงุนูุฉ:**
${pk.communicationStrategy.keyMessages.map((m, i) => `${i+1}. ${m}`).join('\n')}

**ูุจุฑุฉ ุงูุชูุงุตู (Tone of Voice):**
โข ููููุฉ ูููุซููุฉ
โข ูุงุถุญุฉ ููุจุงุดุฑุฉ
โข ุทููุญุฉ ุฏูู ูุจุงูุบุฉ

**ูููุงุช ููุชุงุญูุฉ ููุงุณุชุฎุฏุงู:**
ุจูุงุจุฉ ุฅูููููุฉุ ูููุน ุงุณุชุฑุงุชูุฌูุ ูุนุงููุฑ ุนุงูููุฉุ ุฎุฏูุงุช ูุชูุงููุฉุ ุชูุงูุณูุฉุ ููุงุกุฉ ุชุดุบูููุฉ

**ูููุงุช ูููุถู ุชุฌูุจูุง:**
ุฃุฑุฎุต (ุจุฏูุงู ูููุง: ุงูุฃูุซุฑ ุชูุงูุณูุฉ)ุ ุงูุฃูุถู (ุจุฏูุงู ูููุง: ุงูุฑุงุฆุฏ)`;
        }
        
        // ==========================================
        // ุงููุฑุงูู ูุงูุฎุฏูุงุช
        // ==========================================
        if (q.includes('ูุฑุงูู') || q.includes('ุฎุฏูุงุช') || q.includes('ุจููุฉ') || q.includes('ุชุฌููุฒ')) {
            return `๐๏ธ **ุงููุฑุงูู ูุงูุฎุฏูุงุช ูู ูุดุฑูุน ุฃููู:**

**ุงูุจููุฉ ุงูุชุญุชูุฉ:**
${pk.facilities.map(f => 'โข ' + f).join('\n')}

**ุฃููุงุน ุงููุณุงุญุงุช ุงููุชููุฑุฉ:**
โข ูุณุชูุฏุนุงุช: 500 - 10,000 ูยฒ
โข ููุงุชุจ ุฅุฏุงุฑูุฉ: 50 - 500 ูยฒ
โข ุฃุฑุงุถู ุตูุงุนูุฉ: 1,000 - 50,000 ูยฒ

**ุงูุฃุณุนุงุฑ ุงูุชูุฑูุจูุฉ:**
โข ุงูุชุฃุฌูุฑ: 5-15 ุฏููุงุฑ/ูยฒ ุดูุฑูุงู

๐ก ูุฐู ุงููุนูููุงุช ูููุฉ ูุฃู ูุญุชูู ุชุณูููู ุชูุชุจู!`;
        }
        
        // ==========================================
        // ูุนูููุงุช ุงูุชูุงุตู
        // ==========================================
        if (q.includes('ุชูุงุตู') && (q.includes('ุฑูู') || q.includes('ูุงุชู') || q.includes('ุฅูููู') || q.includes('ุจุฑูุฏ'))) {
            return `๐ **ูุนูููุงุช ุงูุชูุงุตู:**

**ุดุฑูุฉ ููุจูุฒ ุงูุนูุงุฑูุฉ**
${pk.contact.company}

๐ง ุงูุจุฑูุฏ ุงูุนุงู: ${pk.contact.email}
๐ง ูุจูุนุงุช ุฃููู: ${pk.contact.salesEmail}
๐ ุงููุงุชู: ${pk.contact.phone}

๐ ุงููููุน: noblesproperties.com`;
        }
        
        // ==========================================
        // ุงุณุชุฑุงุชูุฌูุฉ ุนุงูุฉ
        // ==========================================
        if (q.includes('ุฎุทุฉ ุชุณููู')) {
            return `๐ **ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงู ููุดุฑูุน ุฃููู:**

**ุงูุฃูุฏุงู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงููุฉ:**
${cp.strategicObjectives.map(obj => `${obj.number}. ${obj.title}`).join('\n')}

**ุงูุฌูููุฑ ุงููุณุชูุฏู:**
${pk.targetAudience.primary.slice(0, 3).map(p => 'โข ' + p).join('\n')}

**ุงูุฑุณุงูุฉ ุงูุฃุณุงุณูุฉ:**
"${pk.communicationStrategy.mainMessage}"

**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
${pk.communicationStrategy.channels.filter(c => c.priority === 'ุฃุณุงุณู').map(c => 'โข ' + c.name).join('\n')}

**ูุคุดุฑุงุช ุงูููุงุณ:**
${cp.strategicObjectives.map(obj => 'โข ' + obj.kpi).join('\n')}

๐ ุฑุงุฌุน ุชุงุจ "ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ" ููุชูุงุตูู ุงููุงููุฉ.`;
        }
        
        // ==========================================
        // ุฅูุดุงุก ุงูููุงู ูู ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ
        // ==========================================
        if (q.includes('ุฃูุดุฆ ููุงู') || q.includes('ุงูุดุงุก ููุงู') || q.includes('ุงูุดุฆ ููุงู') || q.includes('ุฅูุดุงุก ููุงู') || q.includes('create tasks') || q.includes('ุฃุถู ุงูููุงู ูู ุงูููุชุฌุงุช') || q.includes('ููุงู ูู ุงูููุชุฌุงุช')) {
            // ุชุดุบูู ุฅูุดุงุก ุงูููุงู
            this.createTasksFromProducts();
            
            const products = pk.campaignProducts;
            const phase1 = products.filter(p => p.phase === 1);
            const phase2 = products.filter(p => p.phase === 2);
            const phase3 = products.filter(p => p.phase === 3);
            
            return `โ **ุฌุงุฑู ุฅูุดุงุก ุงูููุงู ูู ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ...**

๐ฆ **ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ ุงููุชุงุญุฉ:**

**ุงููุฑุญูุฉ 1 - ุงูุชููุฆุฉ ูุงูุชุดููู (${phase1.length} ููุชุฌ):**
${phase1.map(p => `โข ${p.title} (${p.date})`).join('\n')}

**ุงููุฑุญูุฉ 2 - ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู (${phase2.length} ููุชุฌ):**
${phase2.map(p => `โข ${p.title} (${p.date})`).join('\n')}

**ุงููุฑุญูุฉ 3 - ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ (${phase3.length} ููุชุฌ):**
${phase3.map(p => `โข ${p.title} (${p.date})`).join('\n')}

โณ **ุงูุฅุฌูุงูู:** ${products.length} ูููุฉ ุณูุชู ุฅุถุงูุชูุง

๐ ูุชู ุงูุขู ุญูุธ ุงูููุงู ูู Firebase...
ุงูุชูู ุฅูู ููุญุฉ ุงูููุงู ูุฑุคูุฉ ุงูููุงู ุงูุฌุฏูุฏุฉ!`;
        }
        
        // ==========================================
        // ุนุฑุถ ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ
        // ==========================================
        if (q.includes('ููุชุฌุงุช ุงุชุตุงููุฉ') || q.includes('ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ') || q.includes('campaign products') || q.includes('ูุง ูู ุงูููุชุฌุงุช')) {
            const products = pk.campaignProducts;
            const phase1 = products.filter(p => p.phase === 1);
            const phase2 = products.filter(p => p.phase === 2);
            const phase3 = products.filter(p => p.phase === 3);
            
            return `๐ฆ **ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ ูุญููุฉ ุฃููู:**

**๐ ุงููุฑุญูุฉ 1: ุงูุชููุฆุฉ ูุงูุชุดููู (1-14 ููุงูุฑ)**
${phase1.map(p => `โข **${p.title}** - ${p.platform}
   ๐ ${p.date} | ๐ฏ ${p.objective}`).join('\n')}

**๐ ุงููุฑุญูุฉ 2: ุงูุฅุทูุงู ุงูุงุณุชุฑุงุชูุฌู (15-20 ููุงูุฑ)**
${phase2.map(p => `โข **${p.title}** - ${p.platform}
   ๐ ${p.date} | ๐ฏ ${p.objective}`).join('\n')}

**๐ ุงููุฑุญูุฉ 3: ุชุฑุณูุฎ ุงูุฑูุงุฏุฉ (21-31 ููุงูุฑ)**
${phase3.map(p => `โข **${p.title}** - ${p.platform}
   ๐ ${p.date} | ๐ฏ ${p.objective}`).join('\n')}

**๐ ุงูุฅุฌูุงูู:** ${products.length} ููุชุฌ ุงุชุตุงูู

๐ก ูู "ุฃูุดุฆ ููุงู ูู ุงูููุชุฌุงุช" ูุชุญููููุง ูููุงู ูู ููุญุฉ ุงููุงูุจุงู!`;
        }
        
        // ==========================================
        // ุงูุฑุฏ ุงูุงูุชุฑุงุถู ุงูุฐูู (ูุญุฏูุซ!)
        // ==========================================
        return `๐ ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏ ุญููุฉ **ูุดุฑูุน ุฃููู ุงูููุฌุณุชูุฉ ูุงูุตูุงุนูุฉ**.

ุฃุนุฑู ูู ุชูุงุตูู ุงููุดุฑูุน ูุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ!

๐ **ูุนูููุงุช ุงููุดุฑูุน:**
โข "ูุง ูู ูุดุฑูุน ุฃูููุ"
โข "ูุง ูููุฒุงุช ุงููุดุฑูุนุ"
โข "ูู ุงูุฌูููุฑ ุงููุณุชูุฏูุ"
โข "ูู ุงูููุงูุณููุ"

๐ฏ **ุงูุฃูุฏุงู ูุงูุงุณุชุฑุงุชูุฌูุฉ:**
โข "ูุง ูู ุงูุฃูุฏุงู ุงูุงุชุตุงููุฉุ"
โข "ุฎุทุฉ ุงูุงุชุตุงู ูุงูุนูุงูุงุช ุงูุนุงูุฉ"
โข "ุชุญููู SWOT"
โข "ุงูุฌุฏูู ุงูุฒููู ููุญููุฉ"

๐ **ุงููุญุชูู ูุงูุฑุณุงุฆู:**
โข "ุงูุชุจ ูู ุจูุงู ุตุญูู"
โข "ูุง ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉุ"
โข "ุงูุฑุณุงุฆู ุญุณุจ ุงูุดุฑูุญุฉ"
โข "ุฃููุงุฑ ูุญุชูู"

โ๏ธ **ูุนูููุงุช ูููุฉ:**
โข "ูุง ุงููุญุงุฐูุฑ ุงูุงุชุตุงููุฉุ"
โข "ูุตุต ุงููุฌุงุญ ูุงูุดุฑุงูุงุช"

๐ก **ุงููุฏู ุงูุงุณุชุฑุงุชูุฌู ุงูุฃูู:**
${cp.strategicObjectives[0].title}

ุฌุฑุจ ุฃุญุฏ ุงูุฃุณุฆูุฉ ุฃุนูุงู ุฃู ุงุณุฃููู ุฃู ุดูุก ุนู ุฃููู! ๐`;
    },
    
    generateTaskWithAI: function() {
        const prompt = document.getElementById('ai-prompt').value.trim();
        if (!prompt) return;
        
        const suggestionsDiv = document.getElementById('ai-suggestions');
        suggestionsDiv.innerHTML = '<div class="ai-loading"><i class="fas fa-spinner fa-spin"></i> ุฌุงุฑู ุงูุชูููุฑ...</div>';
        
        // AI Suggestions based on prompt (ูุญุงูุงุฉ - ูููู ุฑุจุทูุง ุจู OpenAI API)
        const suggestions = this.getAISuggestions(prompt);
        
        setTimeout(() => {
            suggestionsDiv.innerHTML = suggestions.map(s => `
                <div class="ai-suggestion" onclick="CampaignManager.applyAISuggestion('${s.title}', '${s.description}')">
                    <strong>${s.title}</strong>
                    <p>${s.description}</p>
                </div>
            `).join('');
        }, 1000);
    },
    
    getAISuggestions: function(prompt) {
        // ุงูุชุฑุงุญุงุช ุฐููุฉ ุจูุงุกู ุนูู ุงููููุงุช ุงูููุชุงุญูุฉ
        const suggestions = [];
        
        if (prompt.includes('ุจูุงู') || prompt.includes('ุตุญูู')) {
            suggestions.push(
                { title: 'ุฅุนุฏุงุฏ ุงูุจูุงู ุงูุตุญูู ููุฅุทูุงู', description: 'ูุชุงุจุฉ ุจูุงู ุตุญูู ุดุงูู ูุชุถูู ูุนูููุงุช ุงููุดุฑูุน ูุงูุฑุคูุฉ' },
                { title: 'ูุฑุงุฌุนุฉ ุงูุจูุงู ุงูุตุญูู', description: 'ูุฑุงุฌุนุฉ ูุบููุฉ ูุชุญุฑูุฑูุฉ ููุจูุงู ูุจู ุงููุดุฑ' }
            );
        }
        if (prompt.includes('ุชุตููู') || prompt.includes('ูููุฉ')) {
            suggestions.push(
                { title: 'ุชุตููู ุงููููุฉ ุงูุจุตุฑูุฉ', description: 'ุฅูุดุงุก ุงูุดุนุงุฑ ูุงูุฃููุงู ูุงูุฎุทูุท ุงูุฎุงุตุฉ ุจุงูุญููุฉ' },
                { title: 'ุชุตููู ููุงูุจ ุงูุณูุดูุงู ููุฏูุง', description: 'ุชุตููู ููุงูุจ ุฌุงูุฒุฉ ูููุดุฑ ุนูู ููุตุงุช ุงูุชูุงุตู' }
            );
        }
        if (prompt.includes('ุฅุนูุงู') || prompt.includes('ุตุญุงูุฉ')) {
            suggestions.push(
                { title: 'ุฅุนุฏุงุฏ ูุงุฆูุฉ ูุณุงุฆู ุงูุฅุนูุงู', description: 'ุชุฌููุน ูุงุฆูุฉ ุจุงูุตุญูููู ูุงูููุตุงุช ุงูุฅุนูุงููุฉ ุงููุณุชูุฏูุฉ' },
                { title: 'ุฌุฏููุฉ ุงูููุงุจูุงุช ุงูุตุญููุฉ', description: 'ุชูุณูู ููุงุนูุฏ ุงูููุงุจูุงุช ูุน ุงูุตุญูููู' }
            );
        }
        
        // ุฅุฐุง ูู ุชุฌุฏ ุงูุชุฑุงุญุงุช ูุญุฏุฏุฉ
        if (suggestions.length === 0) {
            suggestions.push(
                { title: prompt, description: 'ูููุฉ ุฌุฏูุฏุฉ ุจูุงุกู ุนูู ุทูุจู' }
            );
        }
        
        return suggestions;
    },
    
    applyAISuggestion: function(title, description) {
        document.getElementById('task-title').value = title;
        document.getElementById('task-description').value = description;
        document.getElementById('ai-suggestions').innerHTML = '';
        document.getElementById('ai-prompt').value = '';
    },
    
    // ==========================================
    // ุฅูุดุงุก ุงูููุงู ูู ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ
    // ==========================================
    createTasksFromProducts: async function() {
        const products = this.projectKnowledge.campaignProducts;
        
        if (!products || products.length === 0) {
            this.showNotification('ูุง ุชูุฌุฏ ููุชุฌุงุช ุงุชุตุงููุฉ ูุชุงุญุฉ', 'error');
            return;
        }
        
        try {
            const batch = this.db.batch();
            const tasksRef = this.db.collection('projects').doc(this.currentProjectId).collection('tasks');
            let addedCount = 0;
            
            // ุชุญููู ุงูููุชุฌุงุช ูููุงู
            for (const product of products) {
                // ุชุญูู ูู ูุฌูุฏ ุงููููุฉ ูุณุจูุงู
                const existingTask = this.tasks.find(t => t.productId === product.id);
                if (existingTask) {
                    console.log(`Task for product ${product.id} already exists, skipping...`);
                    continue;
                }
                
                const task = {
                    title: product.title,
                    description: `**ุงูููุชุฌ ุงูุงุชุตุงูู:** ${product.title}\n\n**ุงููุฏู:** ${product.objective}\n\n**ุงูุฌูููุฑ:** ${product.audience}\n\n**ุงูุฑุณุงูุฉ:** ${product.message}\n\n**ุงูููุตุฉ:** ${product.platform}`,
                    phase: this.getPhaseFromNumber(product.phase),
                    priority: product.type === 'event' || product.type === 'press_release' ? 'critical' : 'high',
                    dueDate: product.date,
                    type: product.type,
                    platform: product.platform,
                    status: 'backlog',
                    productId: product.id,
                    phaseName: product.phaseName,
                    deliverables: product.deliverables || [],
                    budget: product.budget || null,
                    expectedReach: product.reach || null,
                    requiresApproval: product.type === 'press_release' || product.type === 'video' || product.type === 'event',
                    createdBy: this.currentUser?.uid || 'ai-assistant',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    source: 'campaign_products'
                };
                
                const taskRef = tasksRef.doc();
                batch.set(taskRef, task);
                addedCount++;
            }
            
            if (addedCount > 0) {
                await batch.commit();
                
                // ุฅุถุงูุฉ ุณุฌู ุงููุดุงุท
                this.addActivityLog('tasks_created_from_products', {
                    count: addedCount,
                    products: products.map(p => p.title)
                });
                
                // ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
                await this.loadTasks();
                this.loadTasksView();
                
                this.showNotification(`โ ุชู ุฅูุดุงุก ${addedCount} ูููุฉ ูู ุงูููุชุฌุงุช ุงูุงุชุตุงููุฉ`, 'success');
            } else {
                this.showNotification('ุฌููุน ุงูููุงู ููุฌูุฏุฉ ูุณุจูุงู', 'info');
            }
            
        } catch (error) {
            console.error('Error creating tasks from products:', error);
            this.showNotification('ุญุฏุซ ุฎุทุฃ ูู ุฅูุดุงุก ุงูููุงู', 'error');
        }
    },
    
    getPhaseFromNumber: function(phaseNum) {
        const phases = {
            1: 'pre_launch',
            2: 'launch',
            3: 'post_launch'
        };
        return phases[phaseNum] || 'planning';
    },
    
    // ุฅูุดุงุก ูููุฉ ูุงุญุฏุฉ ูู ููุชุฌ ูุญุฏุฏ
    createTaskFromProduct: async function(productId) {
        const product = this.projectKnowledge.campaignProducts.find(p => p.id === productId);
        
        if (!product) {
            this.showNotification('ุงูููุชุฌ ุบูุฑ ููุฌูุฏ', 'error');
            return;
        }
        
        // ุชุญูู ูู ูุฌูุฏ ุงููููุฉ ูุณุจูุงู
        const existingTask = this.tasks.find(t => t.productId === productId);
        if (existingTask) {
            this.showNotification('ูุฐู ุงููููุฉ ููุฌูุฏุฉ ูุณุจูุงู', 'warning');
            return;
        }
        
        const task = {
            title: product.title,
            description: `**ุงูููุชุฌ ุงูุงุชุตุงูู:** ${product.title}\n\n**ุงููุฏู:** ${product.objective}\n\n**ุงูุฌูููุฑ:** ${product.audience}\n\n**ุงูุฑุณุงูุฉ:** ${product.message}\n\n**ุงูููุตุฉ:** ${product.platform}`,
            phase: this.getPhaseFromNumber(product.phase),
            priority: product.type === 'event' || product.type === 'press_release' ? 'critical' : 'high',
            dueDate: product.date,
            type: product.type,
            platform: product.platform,
            status: 'backlog',
            productId: product.id,
            phaseName: product.phaseName,
            deliverables: product.deliverables || [],
            budget: product.budget || null,
            expectedReach: product.reach || null,
            requiresApproval: product.type === 'press_release' || product.type === 'video' || product.type === 'event',
            createdBy: this.currentUser?.uid || 'ai-assistant',
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
            updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
            source: 'campaign_products'
        };
        
        try {
            const docRef = await this.db.collection('projects').doc(this.currentProjectId)
                .collection('tasks').add(task);
            
            task.id = docRef.id;
            this.tasks.push(task);
            
            this.addActivityLog('task_created_from_product', {
                taskId: docRef.id,
                productId: product.id,
                title: product.title
            });
            
            this.loadTasksView();
            this.showNotification(`โ ุชู ุฅูุดุงุก ูููุฉ: ${product.title}`, 'success');
            
        } catch (error) {
            console.error('Error creating task:', error);
            this.showNotification('ุญุฏุซ ุฎุทุฃ ูู ุฅูุดุงุก ุงููููุฉ', 'error');
        }
    },
    
    // ==========================================
    // Approvals - ุงูุงุนุชูุงุฏุงุช
    // ==========================================
    loadApprovalsView: function() {
        const container = document.getElementById('campaign-content');
        if (!container) return;
        
        const pendingApprovals = this.approvals.filter(a => a.status === 'pending');
        const completedApprovals = this.approvals.filter(a => a.status !== 'pending');
        
        container.innerHTML = `
            <div class="approvals-view">
                <div class="approvals-section">
                    <h3><i class="fas fa-clock"></i> ูู ุงูุชุธุงุฑ ุงูุงุนุชูุงุฏ (${pendingApprovals.length})</h3>
                    <div class="approvals-list" id="pending-approvals">
                        ${pendingApprovals.length ? this.renderApprovalCards(pendingApprovals) : '<p class="empty-state">ูุง ุชูุฌุฏ ุงุนุชูุงุฏุงุช ูุนููุฉ</p>'}
                    </div>
                </div>
                <div class="approvals-section completed">
                    <h3><i class="fas fa-history"></i> ุณุฌู ุงูุงุนุชูุงุฏุงุช</h3>
                    <div class="approvals-list" id="completed-approvals">
                        ${completedApprovals.length ? this.renderApprovalCards(completedApprovals) : '<p class="empty-state">ูุง ููุฌุฏ ุณุฌู</p>'}
                    </div>
                </div>
            </div>
        `;
    },
    
    renderApprovalCards: function(approvals) {
        return approvals.map(approval => `
            <div class="approval-card status-${approval.status}">
                <div class="approval-header">
                    <span class="approval-title">${approval.title}</span>
                    <span class="approval-status">${this.getApprovalStatusLabel(approval.status)}</span>
                </div>
                <p class="approval-desc">${approval.description || ''}</p>
                <div class="approval-meta">
                    <span><i class="fas fa-calendar"></i> ${this.formatDate(approval.createdAt)}</span>
                    ${approval.deadline ? `<span class="deadline"><i class="fas fa-hourglass-half"></i> ููุนุฏ ููุงุฆู: ${this.formatDate(approval.deadline)}</span>` : ''}
                </div>
                ${approval.status === 'pending' && this.canApprove() ? `
                    <div class="approval-actions">
                        <button onclick="CampaignManager.approveItem('${approval.id}')" class="btn-approve">
                            <i class="fas fa-check"></i> ุงุนุชูุงุฏ
                        </button>
                        <button onclick="CampaignManager.requestRevision('${approval.id}')" class="btn-revision">
                            <i class="fas fa-edit"></i> ุทูุจ ุชุนุฏูู
                        </button>
                        <button onclick="CampaignManager.rejectItem('${approval.id}')" class="btn-reject">
                            <i class="fas fa-times"></i> ุฑูุถ
                        </button>
                    </div>
                ` : ''}
            </div>
        `).join('');
    },
    
    approveItem: function(approvalId) {
        this.updateApprovalStatus(approvalId, 'approved');
    },
    
    requestRevision: function(approvalId) {
        const feedback = prompt('ุฃุฏุฎู ููุงุญุธุงุช ุงูุชุนุฏูู ุงููุทููุจุฉ:');
        if (feedback) {
            this.updateApprovalStatus(approvalId, 'revision_requested', feedback);
        }
    },
    
    rejectItem: function(approvalId) {
        const reason = prompt('ุฃุฏุฎู ุณุจุจ ุงูุฑูุถ:');
        if (reason) {
            this.updateApprovalStatus(approvalId, 'rejected', reason);
        }
    },
    
    updateApprovalStatus: function(approvalId, status, feedback = '') {
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('approvals').doc(approvalId)
            .update({
                status: status,
                feedback: feedback,
                reviewedBy: this.currentUser?.uid,
                reviewedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                const index = this.approvals.findIndex(a => a.id === approvalId);
                if (index !== -1) {
                    this.approvals[index].status = status;
                }
                this.loadApprovalsView();
                this.showNotification('ุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุงุนุชูุงุฏ', 'success');
            });
    },
    
    // ==========================================
    // Messages - ุงููุฑุงุณูุงุช
    // ==========================================
    loadMessagesView: function() {
        const container = document.getElementById('campaign-content');
        if (!container) return;
        
        container.innerHTML = `
            <div class="messages-view">
                <div class="messages-sidebar">
                    <button class="btn-new-message" onclick="CampaignManager.showNewMessageModal()">
                        <i class="fas fa-plus"></i> ุฑุณุงูุฉ ุฌุฏูุฏุฉ
                    </button>
                    <div class="messages-list" id="messages-list">
                        ${this.messages.length ? this.renderMessagesList() : '<p class="empty-state">ูุง ุชูุฌุฏ ุฑุณุงุฆู</p>'}
                    </div>
                </div>
                <div class="message-detail" id="message-detail">
                    <div class="empty-state">
                        <i class="fas fa-envelope-open"></i>
                        <p>ุงุฎุชุฑ ุฑุณุงูุฉ ูุนุฑุถูุง</p>
                    </div>
                </div>
            </div>
        `;
    },
    
    renderMessagesList: function() {
        return this.messages.map(msg => `
            <div class="message-item ${msg.isRead ? '' : 'unread'}" onclick="CampaignManager.showMessage('${msg.id}')">
                <div class="message-avatar">
                    <img src="${msg.from?.avatar || '/static/images/default-avatar.png'}">
                </div>
                <div class="message-preview">
                    <div class="message-header">
                        <span class="message-sender">${msg.from?.name || 'ูุฌููู'}</span>
                        <span class="message-time">${this.formatTimeAgo(msg.createdAt)}</span>
                    </div>
                    <div class="message-subject">${msg.subject}</div>
                    <div class="message-snippet">${(msg.body || '').substring(0, 50)}...</div>
                </div>
            </div>
        `).join('');
    },
    
    // ==========================================
    // Reports - ุงูุชูุงุฑูุฑ
    // ==========================================
    loadReportsView: function() {
        const container = document.getElementById('campaign-content');
        if (!container) return;
        
        const stats = this.calculateStats();
        
        container.innerHTML = `
            <div class="reports-view">
                <div class="reports-header">
                    <h3><i class="fas fa-chart-pie"></i> ุชูุฑูุฑ ุญุงูุฉ ุงูุญููุฉ</h3>
                    <div class="reports-actions">
                        <button onclick="CampaignManager.generateReport('pdf')" class="btn-export">
                            <i class="fas fa-file-pdf"></i> ุชุตุฏูุฑ PDF
                        </button>
                        <button onclick="CampaignManager.generateReport('email')" class="btn-export">
                            <i class="fas fa-envelope"></i> ุฅุฑุณุงู ุจุงูุจุฑูุฏ
                        </button>
                    </div>
                </div>
                
                <div class="report-content">
                    <!-- ููุฎุต ุชูููุฐู -->
                    <div class="report-section">
                        <h4>ุงูููุฎุต ุงูุชูููุฐู</h4>
                        <div class="executive-summary">
                            <div class="summary-item">
                                <span class="label">ุฅุฌูุงูู ุงูููุงู:</span>
                                <span class="value">${stats.total}</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">ุงูููุชููุฉ:</span>
                                <span class="value success">${stats.completed} (${stats.completionRate}%)</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">ููุฏ ุงูุชูููุฐ:</span>
                                <span class="value warning">${stats.inProgress}</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">ูุชุฃุฎุฑุฉ:</span>
                                <span class="value danger">${stats.overdue}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ุงูุชูุฏู ุญุณุจ ุงููุฑุญูุฉ -->
                    <div class="report-section">
                        <h4>ุงูุชูุฏู ุญุณุจ ุงููุฑุญูุฉ</h4>
                        <div class="phase-progress">
                            ${this.renderPhaseProgress()}
                        </div>
                    </div>
                    
                    <!-- ุงูุงุนุชูุงุฏุงุช ุงููุนููุฉ -->
                    <div class="report-section">
                        <h4>ุงูุงุนุชูุงุฏุงุช ุงููุนููุฉ</h4>
                        <p>${this.approvals.filter(a => a.status === 'pending').length} ุงุนุชูุงุฏ ูู ุงูุงูุชุธุงุฑ</p>
                    </div>
                </div>
            </div>
        `;
    },
    
    calculateStats: function() {
        const total = this.tasks.length;
        const completed = this.tasks.filter(t => t.status === 'completed').length;
        const inProgress = this.tasks.filter(t => t.status === 'in_progress').length;
        const overdue = this.tasks.filter(t => {
            if (!t.dueDate) return false;
            return new Date(t.dueDate) < new Date() && t.status !== 'completed';
        }).length;
        
        return {
            total,
            completed,
            inProgress,
            overdue,
            completionRate: total > 0 ? Math.round((completed / total) * 100) : 0
        };
    },
    
    // ==========================================
    // Firebase Realtime Listeners
    // ==========================================
    setupRealtimeListeners: function() {
        // Tasks listener
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('tasks')
            .orderBy('createdAt', 'desc')
            .onSnapshot(snapshot => {
                this.tasks = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (this.currentSubTab === 'tasks') this.loadTasksView();
                if (this.currentSubTab === 'dashboard') this.updateDashboardStats();
            });
        
        // Approvals listener
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('approvals')
            .orderBy('createdAt', 'desc')
            .onSnapshot(snapshot => {
                this.approvals = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                const pending = this.approvals.filter(a => a.status === 'pending').length;
                this.updateBadge('approvals-badge', pending);
                if (this.currentSubTab === 'approvals') this.loadApprovalsView();
            });
        
        // Messages listener
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('messages')
            .orderBy('createdAt', 'desc')
            .onSnapshot(snapshot => {
                this.messages = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                const unread = this.messages.filter(m => !m.isRead).length;
                this.updateBadge('messages-badge', unread);
                if (this.currentSubTab === 'messages') this.loadMessagesView();
            });
    },
    
    // ==========================================
    // Utility Functions
    // ==========================================
    closeModal: function(modalId) {
        document.getElementById(modalId).style.display = 'none';
    },
    
    showNotification: function(message, type = 'info') {
        // Simple notification
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'}-circle"></i> ${message}`;
        document.body.appendChild(notification);
        
        setTimeout(() => notification.classList.add('show'), 100);
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    },
    
    updateBadge: function(badgeId, count) {
        const badge = document.getElementById(badgeId);
        if (badge) {
            badge.textContent = count;
            badge.style.display = count > 0 ? 'flex' : 'none';
        }
    },
    
    formatDate: function(date) {
        if (!date) return '';
        const d = date.toDate ? date.toDate() : new Date(date);
        return d.toLocaleDateString('ar-SA');
    },
    
    formatTimeAgo: function(date) {
        if (!date) return '';
        const d = date.toDate ? date.toDate() : new Date(date);
        const diff = Date.now() - d.getTime();
        const minutes = Math.floor(diff / 60000);
        if (minutes < 60) return `ููุฐ ${minutes} ุฏูููุฉ`;
        const hours = Math.floor(minutes / 60);
        if (hours < 24) return `ููุฐ ${hours} ุณุงุนุฉ`;
        return this.formatDate(date);
    },
    
    getPhaseLabel: function(phase) {
        const labels = {
            'planning': 'ุงูุชุฎุทูุท',
            'pre_launch': 'ูุง ูุจู ุงูุฅุทูุงู',
            'launch': 'ุงูุฅุทูุงู',
            'post_launch': 'ูุง ุจุนุฏ ุงูุฅุทูุงู'
        };
        return labels[phase] || phase;
    },
    
    getApprovalStatusLabel: function(status) {
        const labels = {
            'pending': 'ูู ุงูุงูุชุธุงุฑ',
            'approved': 'ูุนุชูุฏ',
            'rejected': 'ูุฑููุถ',
            'revision_requested': 'ุทูุจ ุชุนุฏูู'
        };
        return labels[status] || status;
    },
    
    canApprove: function() {
        // ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุงุนุชูุงุฏ
        return this.currentUser?.role === 'admin' || this.currentUser?.role === 'client';
    },
    
    addActivityLog: function(action, data) {
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('activity')
            .add({
                action,
                data,
                userId: this.currentUser?.uid,
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            });
    },
    
    createApprovalRequest: function(taskId) {
        const task = this.tasks.find(t => t.id === taskId);
        if (!task || !task.requiresApproval) return;
        
        this.db.collection('projects').doc(this.currentProjectId)
            .collection('approvals')
            .add({
                taskId,
                title: `ุงุนุชูุงุฏ: ${task.title}`,
                description: task.description,
                status: 'pending',
                createdBy: this.currentUser?.uid,
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            });
    },
    
    renderPhaseProgress: function() {
        const phases = ['planning', 'pre_launch', 'launch', 'post_launch'];
        return phases.map(phase => {
            const phaseTasks = this.tasks.filter(t => t.phase === phase);
            const completed = phaseTasks.filter(t => t.status === 'completed').length;
            const total = phaseTasks.length;
            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            return `
                <div class="phase-item">
                    <div class="phase-header">
                        <span>${this.getPhaseLabel(phase)}</span>
                        <span>${completed}/${total}</span>
                    </div>
                    <div class="phase-bar">
                        <div class="phase-fill" style="width: ${percent}%"></div>
                    </div>
                </div>
            `;
        }).join('');
    }
};

// ุชููุฆุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
document.addEventListener('DOMContentLoaded', function() {
    // ุณุชุชู ุงูุชููุฆุฉ ุนูุฏ ูุชุญ ุชุงุจ ุงููุฑุงูุจุฉ
});
